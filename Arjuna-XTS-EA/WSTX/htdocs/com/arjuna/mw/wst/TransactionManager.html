<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Apr 11 14:11:04 BST 2003 -->
<TITLE>
: Interface  TransactionManager
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/mw/wst/TxContext.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionManager.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.mw.wst</FONT>
<BR>
Interface  TransactionManager</H2>
<HR>
<DL>
<DT>public interface <B>TransactionManager</B></DL>

<P>
This is the interface that the core exposes in order to allow different
 types of participants to be enrolled. The messaging layer continues to
 work in terms of the registrar, but internally we map to one of these
 methods.

 This could also be the interface that high-level users see (e.g., at the
 application Web Service).

 As with UserTransaction a TransactionManager does not represent a specific
 transaction, but rather is responsible for providing access to an implicit
 per-thread transaction context.
<P>
<DL>
<DT><B>Since: </B><DD>XTS 1.0.</DD>
<DT><B>Version: </B><DD>$Id: TransactionManager.java,v 1.8 2003/03/24 10:57:01 nmcl Exp $</DD>
<DT><B>Author: </B><DD>Mark Little (mark.little@arjuna.com)</DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/mw/wst/TxContext.html">TxContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#currentTransaction()">currentTransaction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The currentTransaction method returns the TxContext for the current
 transaction, or null if there is none.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#enlistForOutcomeNotification(com.arjuna.wst.OutcomeNotificationParticipant, java.lang.String)">enlistForOutcomeNotification</A></B>(com.arjuna.wst.OutcomeNotificationParticipant&nbsp;onp,
                             java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enlist the specified participant with current transaction such that it
 will participate in the OutcomeNotification protocol; a unique
 identifier for the participant is also required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#enlistForPhaseZero(com.arjuna.wst.PhaseZeroParticipant, java.lang.String)">enlistForPhaseZero</A></B>(com.arjuna.wst.PhaseZeroParticipant&nbsp;pzp,
                   java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enlist the specified participant with current transaction such that it
 will participate in the PhaseZero protocol; a unique identifier for the
 participant is also required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#enlistForTwoPhase(com.arjuna.wst.TwoPCParticipant, java.lang.String)">enlistForTwoPhase</A></B>(com.arjuna.wst.TwoPCParticipant&nbsp;tpp,
                  java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enlist the specified participant with current transaction such that it
 will participate in the 2PC protocol; a unique identifier for the
 participant is also required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#replay()">replay</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#resume(com.arjuna.mw.wst.TxContext)">resume</A></B>(<A HREF="../../../../com/arjuna/mw/wst/TxContext.html">TxContext</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The resume method can be used to (re-)associate a thread with a 
 transaction(s) via its TxContext.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/mw/wst/TxContext.html">TxContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/mw/wst/TransactionManager.html#suspend()">suspend</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A thread of control may require periods of non-transactionality so that
 it may perform work that is not associated with a specific transaction.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="enlistForPhaseZero(com.arjuna.wst.PhaseZeroParticipant, java.lang.String)"><!-- --></A><H3>
enlistForPhaseZero</H3>
<PRE>
public void <B>enlistForPhaseZero</B>(com.arjuna.wst.PhaseZeroParticipant&nbsp;pzp,
                               java.lang.String&nbsp;id)
                        throws com.arjuna.wst.WrongStateException,
                               com.arjuna.wst.UnknownTransactionException,
                               com.arjuna.wsc.AlreadyRegisteredException,
                               com.arjuna.wst.SystemException</PRE>
<DL>
<DD>Enlist the specified participant with current transaction such that it
 will participate in the PhaseZero protocol; a unique identifier for the
 participant is also required. If there is no transaction associated with
 the invoking thread then the UnknownTransactionException exception is
 thrown. If the coordinator already has a participant enrolled with the 
 same identifier, then AlreadyRegisteredException will be thrown. If the
 transaction is not in a state where participants can be enrolled (e.g.,
 it is terminating) then WrongStateException will be thrown.</DL>
<HR>

<A NAME="enlistForTwoPhase(com.arjuna.wst.TwoPCParticipant, java.lang.String)"><!-- --></A><H3>
enlistForTwoPhase</H3>
<PRE>
public void <B>enlistForTwoPhase</B>(com.arjuna.wst.TwoPCParticipant&nbsp;tpp,
                              java.lang.String&nbsp;id)
                       throws com.arjuna.wst.WrongStateException,
                              com.arjuna.wst.UnknownTransactionException,
                              com.arjuna.wsc.AlreadyRegisteredException,
                              com.arjuna.wst.SystemException</PRE>
<DL>
<DD>Enlist the specified participant with current transaction such that it
 will participate in the 2PC protocol; a unique identifier for the
 participant is also required. If there is no transaction associated with
 the invoking thread then the UnknownTransactionException exception is
 thrown. If the coordinator already has a participant enrolled with the 
 same identifier, then AlreadyRegisteredException will be thrown. If the
 transaction is not in a state where participants can be enrolled (e.g.,
 it is terminating) then WrongStateException will be thrown.</DL>
<HR>

<A NAME="enlistForOutcomeNotification(com.arjuna.wst.OutcomeNotificationParticipant, java.lang.String)"><!-- --></A><H3>
enlistForOutcomeNotification</H3>
<PRE>
public void <B>enlistForOutcomeNotification</B>(com.arjuna.wst.OutcomeNotificationParticipant&nbsp;onp,
                                         java.lang.String&nbsp;id)
                                  throws com.arjuna.wst.WrongStateException,
                                         com.arjuna.wst.UnknownTransactionException,
                                         com.arjuna.wsc.AlreadyRegisteredException,
                                         com.arjuna.wst.SystemException</PRE>
<DL>
<DD>Enlist the specified participant with current transaction such that it
 will participate in the OutcomeNotification protocol; a unique
 identifier for the participant is also required. If there is no
 transaction associated with the invoking thread then the
 UnknownTransactionException exception is thrown. If the coordinator
 already has a participant enrolled with the same identifier, then
 AlreadyRegisteredException will be thrown. If the transaction is not in 
 a state where participants can be enrolled (e.g., it is terminating)
 then WrongStateException will be thrown.</DL>
<HR>

<A NAME="replay()"><!-- --></A><H3>
replay</H3>
<PRE>
public int <B>replay</B>()
           throws com.arjuna.wst.SystemException</PRE>
<DL>
</DL>
<HR>

<A NAME="resume(com.arjuna.mw.wst.TxContext)"><!-- --></A><H3>
resume</H3>
<PRE>
public void <B>resume</B>(<A HREF="../../../../com/arjuna/mw/wst/TxContext.html">TxContext</A>&nbsp;tx)
            throws com.arjuna.wst.UnknownTransactionException,
                   com.arjuna.wst.SystemException</PRE>
<DL>
<DD>The resume method can be used to (re-)associate a thread with a 
 transaction(s) via its TxContext. Prior to association, the thread is
 disassociated with any transaction(s) with which it may be currently
 associated. If the TxContext is null, then the thread is associated with
 no transaction. The UnknownTransactionException exception is thrown if
 the transaction that the TxContext refers to is invalid in the scope of
 the invoking thread.</DL>
<HR>

<A NAME="suspend()"><!-- --></A><H3>
suspend</H3>
<PRE>
public <A HREF="../../../../com/arjuna/mw/wst/TxContext.html">TxContext</A> <B>suspend</B>()
                  throws com.arjuna.wst.SystemException</PRE>
<DL>
<DD>A thread of control may require periods of non-transactionality so that
 it may perform work that is not associated with a specific transaction.
 In order to do this it is necessary to disassociate the thread from any
 transactions. The suspend method accomplishes this, returning a
 TxContext instance, which is a handle on the transaction. The thread is
 then no longer associated with any transaction.</DL>
<HR>

<A NAME="currentTransaction()"><!-- --></A><H3>
currentTransaction</H3>
<PRE>
public <A HREF="../../../../com/arjuna/mw/wst/TxContext.html">TxContext</A> <B>currentTransaction</B>()
                             throws com.arjuna.wst.SystemException</PRE>
<DL>
<DD>The currentTransaction method returns the TxContext for the current
 transaction, or null if there is none. Unlike suspend, this method does
 not disassociate the current thread from the transaction(s). This can
 be used to enable multiple threads to execute within the scope of the
 same transaction.</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/mw/wst/TxContext.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionManager.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
