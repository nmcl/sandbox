<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Jun 26 11:05:58 BST 2003 -->
<TITLE>
: Class  StateManager
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/PersistenceRecord.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/StateManagerAttribute.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="StateManager.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.ats.arjuna</FONT>
<BR>
Class  StateManager</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.arjuna.ats.arjuna.StateManager</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html">AbstractRecord</A>, <A HREF="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html">BasicAction</A>, <A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>, <A HREF="../../../../com/arjuna/ats/txoj/LockManager.html">LockManager</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>StateManager</B><DT>extends java.lang.Object</DL>

<P>
The root of the Arjuna class hierarchy. This class provides
 state management facilities than can be automatically used by
 other classes by inheritance.
<P>
<DL>
<DT><B>Since: </B><DD>JTS 1.0.</DD>
<DT><B>Version: </B><DD>$Id: StateManager.java,v 1.1 2003/06/19 10:50:13 nmcl Exp $</DD>
<DT><B>Author: </B><DD>Mark Little (mark@arjuna.com)</DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Hashtable</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#modifyingActions">modifyingActions</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#objectName">objectName</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#objectUid">objectUid</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/StateManagerAttribute.html">StateManagerAttribute</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#smAttributes">smAttributes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Hashtable</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#usingActions">usingActions</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager()">StateManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(int)">StateManager</A></B>(int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(int, com.arjuna.ats.arjuna.gandiva.ObjectName)">StateManager</A></B>(int&nbsp;ot,
             <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;objName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(com.arjuna.ats.arjuna.gandiva.ObjectName)">StateManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;objName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(com.arjuna.ats.arjuna.common.Uid)">StateManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create object with specific uid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(com.arjuna.ats.arjuna.common.Uid, int)">StateManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid,
             int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(com.arjuna.ats.arjuna.common.Uid, int, com.arjuna.ats.arjuna.gandiva.ObjectName)">StateManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid,
             int&nbsp;ot,
             <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;objName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.gandiva.ObjectName)">StateManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid,
             <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#activate()">activate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This operation activates an object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#activate(java.lang.String)">activate</A></B>(java.lang.String&nbsp;rootName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This operation activates an object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#attributes()">attributes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#cleanup(boolean)">cleanup</A></B>(boolean&nbsp;fromTerminate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object cleanup.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate()">deactivate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This operation deactivates a persistent object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String)">deactivate</A></B>(java.lang.String&nbsp;rootName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This operation deactivates a persistent object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String, boolean)">deactivate</A></B>(java.lang.String&nbsp;rootName,
           boolean&nbsp;commit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This operation deactivates a persistent object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#destroy()">destroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destroy the object (e.g., remove its state from the persistent
 store.)

 Calls to destroy for volatile objects (ones not maintained within the
 volatile object store) are ignored, and FALSE is returned.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#disable()">disable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The following function disables recovery for an object by setting
 the ObjectType to NEITHER (RECOVERABLE or ANDPERSISTENT).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction, boolean, int)">forgetAction</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html">BasicAction</A>&nbsp;action,
             boolean&nbsp;committed,
             int&nbsp;recordType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove action from list of using actions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#get_uid()">get_uid</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/common/Mutex.html">Mutex</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#getMutex()">getMutex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#getStoreRoot()">getStoreRoot</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#loadObjectState()">loadObjectState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do we need to load the object's state?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#lockMutex()">lockMutex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#modified()">modified</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The object's state is about to be modified, and StateManager should
 take a snapshot of the state if the object is being used within
 a transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#ObjectType()">ObjectType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState, com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)">packHeader</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
           <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;txId,
           <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;processUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pack the necessary information for crash recovery.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#persist()">persist</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The persist function changes the type of the object from RECOVERABLE
 to ANDPERSISTENT.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#print(java.io.PrintWriter)">print</A></B>(java.io.PrintWriter&nbsp;strm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print out information about the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction, int)">rememberAction</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html">BasicAction</A>&nbsp;action,
               int&nbsp;recordType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remember that the specified transaction is using the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState, int)">restore_state</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html">InputObjectState</A>&nbsp;os,
              int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These methods must be provided by a derived class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState, int)">save_state</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
           int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These methods must be used by a derived class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore()">setupStore</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make sure the object store is set up, if required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore(java.lang.String)">setupStore</A></B>(java.lang.String&nbsp;rootName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make sure the object store is set up, if required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#status()">status</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#terminate()">terminate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The following function checks to see if the object is going out of
 scope while an action is still running.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#tryLockMutex()">tryLockMutex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#type()">type</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The object's type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#unlockMutex()">unlockMutex</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState, com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)">unpackHeader</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html">InputObjectState</A>&nbsp;os,
             <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;txId,
             <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;processUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unpack the crash recovery state header information and return it.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="smAttributes"><!-- --></A><H3>
smAttributes</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ats/arjuna/StateManagerAttribute.html">StateManagerAttribute</A> <B>smAttributes</B></PRE>
<DL>
</DL>
<HR>

<A NAME="objectName"><!-- --></A><H3>
objectName</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A> <B>objectName</B></PRE>
<DL>
</DL>
<HR>

<A NAME="modifyingActions"><!-- --></A><H3>
modifyingActions</H3>
<PRE>
protected java.util.Hashtable <B>modifyingActions</B></PRE>
<DL>
</DL>
<HR>

<A NAME="usingActions"><!-- --></A><H3>
usingActions</H3>
<PRE>
protected java.util.Hashtable <B>usingActions</B></PRE>
<DL>
</DL>
<HR>

<A NAME="objectUid"><!-- --></A><H3>
objectUid</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A> <B>objectUid</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="StateManager(com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid)</PRE>
<DL>
<DD>Create object with specific uid. This constructor
 is primarily used when recreating an existing object. The object type
 is set to 'ANDPERSISTENT' this is equivalent to invoking
 persist in the object constructor.</DL>
<HR>

<A NAME="StateManager(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid,
                       <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</PRE>
<DL>
</DL>
<HR>

<A NAME="StateManager(com.arjuna.ats.arjuna.common.Uid, int)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid,
                       int&nbsp;ot)</PRE>
<DL>
</DL>
<HR>

<A NAME="StateManager(com.arjuna.ats.arjuna.common.Uid, int, com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;objUid,
                       int&nbsp;ot,
                       <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;objName)</PRE>
<DL>
</DL>
<HR>

<A NAME="StateManager()"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="StateManager(int)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(int&nbsp;ot)</PRE>
<DL>
</DL>
<HR>

<A NAME="StateManager(int, com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(int&nbsp;ot,
                       <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;objName)</PRE>
<DL>
</DL>
<HR>

<A NAME="StateManager(com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
StateManager</H3>
<PRE>
protected <B>StateManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;objName)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="save_state(com.arjuna.ats.arjuna.state.OutputObjectState, int)"><!-- --></A><H3>
save_state</H3>
<PRE>
public boolean <B>save_state</B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                          int&nbsp;ot)</PRE>
<DL>
<DD>These methods must be used by a derived class. They
 are responsible for packing and unpacking an object's state
 to/from a state buffer. StateManager calls them at appropriate
 times during the lifetime of the object, and may then pass the
 buffer to a persistent object store for saving.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="restore_state(com.arjuna.ats.arjuna.state.InputObjectState, int)"><!-- --></A><H3>
restore_state</H3>
<PRE>
public boolean <B>restore_state</B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html">InputObjectState</A>&nbsp;os,
                             int&nbsp;ot)</PRE>
<DL>
<DD>These methods must be provided by a derived class. They
 are responsible for packing and unpacking an object's state
 to/from a state buffer. StateManager calls them at appropriate
 times during the lifetime of the object, and may then pass the
 buffer to a persistent object store for saving.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()
              throws java.lang.Throwable</PRE>
<DL>
<DD>Destructor.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>finalize</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="activate()"><!-- --></A><H3>
activate</H3>
<PRE>
public boolean <B>activate</B>()</PRE>
<DL>
<DD>This operation activates an object. Activation of an object may
 entail loading its passive state from the object store and unpacking
 it into the memory resident form, or it may simply be a no-op.
 Full activation is only necessary if the object is currently marked
 as being PASSIVE (that is, the object was constructed as being of
 type ANDPERSISTENT with an existing uid and has not already been
 activated).

 Objects that are not of type ANDPERSISTENT or are persistent but
 have not yet been saved in an object store (so-called new persistent
 objects) are unaffected by this function.
 Returns false if PASSIVE object cannot be loaded from object store,
 true otherwise.

 The root of the object store is taken as <code>null</code>.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html"><CODE>ObjectStore</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="activate(java.lang.String)"><!-- --></A><H3>
activate</H3>
<PRE>
public boolean <B>activate</B>(java.lang.String&nbsp;rootName)</PRE>
<DL>
<DD>This operation activates an object. Activation of an object may
 entail loading its passive state from the object store and unpacking
 it into the memory resident form, or it may simply be a no-op.
 Full activation is only necessary if the object is currently marked
 as being PASSIVE (that is, the object was constructed as being of
 type ANDPERSISTENT with an existing uid and has not already been
 activated).

 Objects that are not of type ANDPERSISTENT or are persistent but
 have not yet been saved in an object store (so-called new persistent
 objects) are unaffected by this function.
 Returns false if PASSIVE object cannot be loaded from object store,
 true otherwise.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html"><CODE>ObjectStore</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="deactivate()"><!-- --></A><H3>
deactivate</H3>
<PRE>
public boolean <B>deactivate</B>()</PRE>
<DL>
<DD>This operation deactivates a persistent object.
 It behaves in a similar manner to the activate operation, but has an
 extra argument which defines whether the object's state should be
 committed or written as a shadow.

 The root of the object store is <code>null</code>. It is assumed
 that this is being called during a transaction commit.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="deactivate(java.lang.String)"><!-- --></A><H3>
deactivate</H3>
<PRE>
public boolean <B>deactivate</B>(java.lang.String&nbsp;rootName)</PRE>
<DL>
<DD>This operation deactivates a persistent object.
 It behaves in a similar manner to the activate operation, but has an
 extra argument which defines whether the object's state should be
 commited now or not.

 It is assumed that this is being called during a transaction commit.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="deactivate(java.lang.String, boolean)"><!-- --></A><H3>
deactivate</H3>
<PRE>
public boolean <B>deactivate</B>(java.lang.String&nbsp;rootName,
                          boolean&nbsp;commit)</PRE>
<DL>
<DD>This operation deactivates a persistent object.
 It behaves in a similar manner to the activate operation, but has an
 extra argument which defines whether the object's state should be
 commited now or not.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="status()"><!-- --></A><H3>
status</H3>
<PRE>
public int <B>status</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the object's current status (active, passive, ...)</DL>
</DD>
</DL>
<HR>

<A NAME="ObjectType()"><!-- --></A><H3>
ObjectType</H3>
<PRE>
public int <B>ObjectType</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the type of the object (persistent, recoverable, ...)</DL>
</DD>
</DL>
<HR>

<A NAME="get_uid()"><!-- --></A><H3>
get_uid</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A> <B>get_uid</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the object's unique identifier.</DL>
</DD>
</DL>
<HR>

<A NAME="destroy()"><!-- --></A><H3>
destroy</H3>
<PRE>
public boolean <B>destroy</B>()</PRE>
<DL>
<DD>Destroy the object (e.g., remove its state from the persistent
 store.)

 Calls to destroy for volatile objects (ones not maintained within the
 volatile object store) are ignored, and FALSE is returned.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="disable()"><!-- --></A><H3>
disable</H3>
<PRE>
public void <B>disable</B>()</PRE>
<DL>
<DD>The following function disables recovery for an object by setting
 the ObjectType to NEITHER (RECOVERABLE or ANDPERSISTENT).
 The value of this variable is checked in the modified operation
 so that no recovery information is created if myType is set to NEITHER.</DL>
<HR>

<A NAME="print(java.io.PrintWriter)"><!-- --></A><H3>
print</H3>
<PRE>
public void <B>print</B>(java.io.PrintWriter&nbsp;strm)</PRE>
<DL>
<DD>Print out information about the object.</DL>
<HR>

<A NAME="type()"><!-- --></A><H3>
type</H3>
<PRE>
public java.lang.String <B>type</B>()</PRE>
<DL>
<DD>The object's type. Derived classes should override this to
 reflect their type structure. Typically this string is used for
 locating the object state in an object store, and reflects the
 hierarchy structure of the object.</DL>
<HR>

<A NAME="getStoreRoot()"><!-- --></A><H3>
getStoreRoot</H3>
<PRE>
public final java.lang.String <B>getStoreRoot</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the root of the object store this instance will
 use if it has to save the state of the object to storage.</DL>
</DD>
</DL>
<HR>

<A NAME="attributes()"><!-- --></A><H3>
attributes</H3>
<PRE>
public java.lang.Object <B>attributes</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>object specific attributes (e.g., object store type).</DL>
</DD>
</DL>
<HR>

<A NAME="packHeader(com.arjuna.ats.arjuna.state.OutputObjectState, com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
packHeader</H3>
<PRE>
protected void <B>packHeader</B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                          <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;txId,
                          <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;processUid)
                   throws java.io.IOException</PRE>
<DL>
<DD>Pack the necessary information for crash recovery.<DD><DL>
<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState, com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
unpackHeader</H3>
<PRE>
protected void <B>unpackHeader</B>(<A HREF="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html">InputObjectState</A>&nbsp;os,
                            <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;txId,
                            <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;processUid)
                     throws java.io.IOException</PRE>
<DL>
<DD>Unpack the crash recovery state header information and return it.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>txId</CODE> - the identity of the transaction that last caused the
 state to be written to the object store.<DT><B>Returns:</B><DD>the <code>Uid</code> of the process that last managed this
 state.<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="terminate()"><!-- --></A><H3>
terminate</H3>
<PRE>
protected void <B>terminate</B>()</PRE>
<DL>
<DD>The following function checks to see if the object is going out of
 scope while an action is still running.</DL>
<HR>

<A NAME="modified()"><!-- --></A><H3>
modified</H3>
<PRE>
protected final boolean <B>modified</B>()</PRE>
<DL>
<DD>The object's state is about to be modified, and StateManager should
 take a snapshot of the state if the object is being used within
 a transaction.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> on success, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="persist()"><!-- --></A><H3>
persist</H3>
<PRE>
protected final void <B>persist</B>()</PRE>
<DL>
<DD>The persist function changes the type of the object from RECOVERABLE
 to ANDPERSISTENT.

 No changes are made unless the status of the object is ACTIVE, so it
 is not possible to change the type of the object if it has been
 modified.</DL>
<HR>

<A NAME="cleanup(boolean)"><!-- --></A><H3>
cleanup</H3>
<PRE>
protected final void <B>cleanup</B>(boolean&nbsp;fromTerminate)</PRE>
<DL>
<DD>Object cleanup.
 Attempt sane cleanup when object is deleted. Handle perverse cases
 where multiple actions are still active as object dies.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fromTerminate</CODE> - indicates whether this method is being called
 from the <code>terminate</code> method, or from elsewhere.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#terminate()"><CODE>terminate()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setupStore()"><!-- --></A><H3>
setupStore</H3>
<PRE>
protected final void <B>setupStore</B>()</PRE>
<DL>
<DD>Make sure the object store is set up, if required.
 The root of the object store is assumed to be <code>null</code>.</DL>
<HR>

<A NAME="setupStore(java.lang.String)"><!-- --></A><H3>
setupStore</H3>
<PRE>
protected void <B>setupStore</B>(java.lang.String&nbsp;rootName)</PRE>
<DL>
<DD>Make sure the object store is set up, if required.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rootName</CODE> - indicates the root of the object store.</DL>
</DD>
</DL>
<HR>

<A NAME="loadObjectState()"><!-- --></A><H3>
loadObjectState</H3>
<PRE>
protected final boolean <B>loadObjectState</B>()</PRE>
<DL>
<DD>Do we need to load the object's state?<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if the object state should be loaded,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction, boolean, int)"><!-- --></A><H3>
forgetAction</H3>
<PRE>
protected final boolean <B>forgetAction</B>(<A HREF="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html">BasicAction</A>&nbsp;action,
                                     boolean&nbsp;committed,
                                     int&nbsp;recordType)</PRE>
<DL>
<DD>Remove action from list of using actions. If the action list empties
 reset state to PASSIVE.
 The second param tells why the action should be forgotten.
 This aids in resetting the state correctly.</DL>
<HR>

<A NAME="rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction, int)"><!-- --></A><H3>
rememberAction</H3>
<PRE>
protected final boolean <B>rememberAction</B>(<A HREF="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html">BasicAction</A>&nbsp;action,
                                       int&nbsp;recordType)</PRE>
<DL>
<DD>Remember that the specified transaction is using the object.</DL>
<HR>

<A NAME="getMutex()"><!-- --></A><H3>
getMutex</H3>
<PRE>
protected final <A HREF="../../../../com/arjuna/ats/arjuna/common/Mutex.html">Mutex</A> <B>getMutex</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the mutex object used to lock this object.<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="lockMutex()"><!-- --></A><H3>
lockMutex</H3>
<PRE>
protected final boolean <B>lockMutex</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the result of the attempt to lock this object.<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="unlockMutex()"><!-- --></A><H3>
unlockMutex</H3>
<PRE>
protected final boolean <B>unlockMutex</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the result of the attempt to unlock this object.<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="tryLockMutex()"><!-- --></A><H3>
tryLockMutex</H3>
<PRE>
protected final boolean <B>tryLockMutex</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if the object was locked,
 <code>false</code> if the attempt would cause the thread to block.<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/PersistenceRecord.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ats/arjuna/StateManagerAttribute.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="StateManager.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
