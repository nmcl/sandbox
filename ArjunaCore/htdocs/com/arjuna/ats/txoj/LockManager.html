<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Jun 26 11:06:03 BST 2003 -->
<TITLE>
: Class  LockManager
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ats/txoj/LockListIterator.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ats/txoj/LockManagerAttribute.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LockManager.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.ats.txoj</FONT>
<BR>
Class  LockManager</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">com.arjuna.ats.arjuna.StateManager</A>
        |
        +--<B>com.arjuna.ats.txoj.LockManager</B>
</PRE>
<HR>
<DL>
<DT>public class <B>LockManager</B><DT>extends <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></DL>

<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#defaultRetry">defaultRetry</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The default retry value which will be used by setlock if no
 other value is given.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#defaultSleepTime">defaultSleepTime</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The default timeout value which will be used by setlock if no
 other value is given.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ats/txoj/LockManagerAttribute.html">LockManagerAttribute</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#lmAttributes">lmAttributes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#waitTotalTimeout">waitTotalTimeout</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;By default, threads which call setlock with conflicting locks
 will spin for the specified (or default) number of timeout and
 retry attempts, and then return failure if the lock could not
 be acquired.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.arjuna.ats.arjuna.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.ats.arjuna.<A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#modifyingActions">modifyingActions</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#objectName">objectName</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#objectUid">objectUid</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#smAttributes">smAttributes</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#usingActions">usingActions</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager()">LockManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager(int)">LockManager</A></B>(int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager(int, com.arjuna.ats.arjuna.gandiva.ObjectName)">LockManager</A></B>(int&nbsp;ot,
            <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager(com.arjuna.ats.arjuna.common.Uid)">LockManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager(com.arjuna.ats.arjuna.common.Uid, int)">LockManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid,
            int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager(com.arjuna.ats.arjuna.common.Uid, int, com.arjuna.ats.arjuna.gandiva.ObjectName)">LockManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid,
            int&nbsp;ot,
            <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#LockManager(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.gandiva.ObjectName)">LockManager</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid,
            <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#attributes()">attributes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cleanup.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#print(java.io.PrintWriter)">print</A></B>(java.io.PrintWriter&nbsp;strm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print information about this instance on the specified
 <code>PrintWriter</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#printState(java.io.PrintWriter)">printState</A></B>(java.io.PrintWriter&nbsp;strm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load state into object prior to doing the printing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#propagate(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)">propagate</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;from,
          <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;to)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Change lock ownership as nested action commits.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#releaseAll(com.arjuna.ats.arjuna.common.Uid)">releaseAll</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;actionUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clear out all locks for a given action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#releaselock(com.arjuna.ats.arjuna.common.Uid)">releaselock</A></B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;lockUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release a SINGLE LOCK lock that has the given uid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#setlock(com.arjuna.ats.txoj.Lock)">setlock</A></B>(<A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>&nbsp;toSet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#setlock(com.arjuna.ats.txoj.Lock, int)">setlock</A></B>(<A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>&nbsp;toSet,
        int&nbsp;retry)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#setlock(com.arjuna.ats.txoj.Lock, int, int)">setlock</A></B>(<A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>&nbsp;toSet,
        int&nbsp;retry,
        int&nbsp;sleepTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#terminate()">terminate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method *must* be called in the finalizer of every object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#type()">type</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overload StateManager.type()</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ats.arjuna.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ats.arjuna.<A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#activate()">activate</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#activate(java.lang.String)">activate</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#cleanup(boolean)">cleanup</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate()">deactivate</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String)">deactivate</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String, boolean)">deactivate</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#destroy()">destroy</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#disable()">disable</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction, boolean, int)">forgetAction</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#get_uid()">get_uid</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#getMutex()">getMutex</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#getStoreRoot()">getStoreRoot</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#loadObjectState()">loadObjectState</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#lockMutex()">lockMutex</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#modified()">modified</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#ObjectType()">ObjectType</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState, com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)">packHeader</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#persist()">persist</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction, int)">rememberAction</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState, int)">restore_state</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState, int)">save_state</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore()">setupStore</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore(java.lang.String)">setupStore</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#status()">status</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#tryLockMutex()">tryLockMutex</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#unlockMutex()">unlockMutex</A>, <A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState, com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)">unpackHeader</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="defaultRetry"><!-- --></A><H3>
defaultRetry</H3>
<PRE>
public static final int <B>defaultRetry</B></PRE>
<DL>
<DD>The default retry value which will be used by setlock if no
 other value is given.<DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#setlock(com.arjuna.ats.txoj.Lock)"><CODE>setlock(com.arjuna.ats.txoj.Lock)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="defaultSleepTime"><!-- --></A><H3>
defaultSleepTime</H3>
<PRE>
public static final int <B>defaultSleepTime</B></PRE>
<DL>
<DD>The default timeout value which will be used by setlock if no
 other value is given.<DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#setlock(com.arjuna.ats.txoj.Lock)"><CODE>setlock(com.arjuna.ats.txoj.Lock)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="waitTotalTimeout"><!-- --></A><H3>
waitTotalTimeout</H3>
<PRE>
public static final int <B>waitTotalTimeout</B></PRE>
<DL>
<DD>By default, threads which call setlock with conflicting locks
 will spin for the specified (or default) number of timeout and
 retry attempts, and then return failure if the lock could not
 be acquired. If the *retry* period is set to this value, then
 such threads will sleep for their total wait period and be signalled
 if the lock is released within this period of time.<DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/txoj/LockManager.html#setlock(com.arjuna.ats.txoj.Lock)"><CODE>setlock(com.arjuna.ats.txoj.Lock)</CODE></A><DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="lmAttributes"><!-- --></A><H3>
lmAttributes</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ats/txoj/LockManagerAttribute.html">LockManagerAttribute</A> <B>lmAttributes</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="LockManager(com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid)</PRE>
<DL>
</DL>
<HR>

<A NAME="LockManager(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid,
                      <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</PRE>
<DL>
</DL>
<HR>

<A NAME="LockManager(com.arjuna.ats.arjuna.common.Uid, int)"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid,
                      int&nbsp;ot)</PRE>
<DL>
</DL>
<HR>

<A NAME="LockManager(com.arjuna.ats.arjuna.common.Uid, int, com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;storeUid,
                      int&nbsp;ot,
                      <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</PRE>
<DL>
</DL>
<HR>

<A NAME="LockManager()"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="LockManager(int)"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>(int&nbsp;ot)</PRE>
<DL>
</DL>
<HR>

<A NAME="LockManager(int, com.arjuna.ats.arjuna.gandiva.ObjectName)"><!-- --></A><H3>
LockManager</H3>
<PRE>
protected <B>LockManager</B>(int&nbsp;ot,
                      <A HREF="../../../../com/arjuna/ats/arjuna/gandiva/ObjectName.html">ObjectName</A>&nbsp;attr)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()
              throws java.lang.Throwable</PRE>
<DL>
<DD>Cleanup. Note we grab the semaphore before destroying the
 the lock store to ensure the store is deleted cleanly.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#finalize()">finalize</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="propagate(com.arjuna.ats.arjuna.common.Uid, com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
propagate</H3>
<PRE>
public final boolean <B>propagate</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;from,
                               <A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;to)</PRE>
<DL>
<DD>Change lock ownership as nested action commits. All
 locks owned by the committing action have their owners changed to be
 the parent of the committing action. BasicAction ensures this is only
 called at nested commit. This function works by copying the old LockList
 pointer and then creating a new held lock list. Locks are then moved 
 from the old to the new, propagating en route.</DL>
<HR>

<A NAME="releaseAll(com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
releaseAll</H3>
<PRE>
public final boolean <B>releaseAll</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;actionUid)</PRE>
<DL>
<DD>Clear out all locks for a given action. Should be
 triggered automatically at top-level commit but is also user
 callable so is potentially dangerous.</DL>
<HR>

<A NAME="releaselock(com.arjuna.ats.arjuna.common.Uid)"><!-- --></A><H3>
releaselock</H3>
<PRE>
public final boolean <B>releaselock</B>(<A HREF="../../../../com/arjuna/ats/arjuna/common/Uid.html">Uid</A>&nbsp;lockUid)</PRE>
<DL>
<DD>Release a SINGLE LOCK lock that has the given uid. Breaks
 two-phase locking rules so watch out!</DL>
<HR>

<A NAME="setlock(com.arjuna.ats.txoj.Lock)"><!-- --></A><H3>
setlock</H3>
<PRE>
public final int <B>setlock</B>(<A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>&nbsp;toSet)</PRE>
<DL>
</DL>
<HR>

<A NAME="setlock(com.arjuna.ats.txoj.Lock, int)"><!-- --></A><H3>
setlock</H3>
<PRE>
public final int <B>setlock</B>(<A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>&nbsp;toSet,
                         int&nbsp;retry)</PRE>
<DL>
</DL>
<HR>

<A NAME="setlock(com.arjuna.ats.txoj.Lock, int, int)"><!-- --></A><H3>
setlock</H3>
<PRE>
public final int <B>setlock</B>(<A HREF="../../../../com/arjuna/ats/txoj/Lock.html">Lock</A>&nbsp;toSet,
                         int&nbsp;retry,
                         int&nbsp;sleepTime)</PRE>
<DL>
</DL>
<HR>

<A NAME="print(java.io.PrintWriter)"><!-- --></A><H3>
print</H3>
<PRE>
public void <B>print</B>(java.io.PrintWriter&nbsp;strm)</PRE>
<DL>
<DD>Print information about this instance on the specified
 <code>PrintWriter</code>.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#print(java.io.PrintWriter)">print</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="printState(java.io.PrintWriter)"><!-- --></A><H3>
printState</H3>
<PRE>
public void <B>printState</B>(java.io.PrintWriter&nbsp;strm)</PRE>
<DL>
<DD>Load state into object prior to doing the printing.</DL>
<HR>

<A NAME="type()"><!-- --></A><H3>
type</H3>
<PRE>
public java.lang.String <B>type</B>()</PRE>
<DL>
<DD>Overload StateManager.type()<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#type()">type</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="attributes()"><!-- --></A><H3>
attributes</H3>
<PRE>
public java.lang.Object <B>attributes</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#attributes()">attributes</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD>the <code>LockManagerAttribute</code> object for this
 instance. Must be returned as an <code>Object</code> because it
 overrides StateManager.attributes.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ats/txoj/LockManagerAttribute.html"><CODE>LockManagerAttribute</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="terminate()"><!-- --></A><H3>
terminate</H3>
<PRE>
protected void <B>terminate</B>()</PRE>
<DL>
<DD>This method *must* be called in the finalizer of every object.
 It ensures that any necessary cleanup work is done in the event
 that the object goes out of scope within a transaction.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html#terminate()">terminate</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ats/arjuna/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ats/txoj/LockListIterator.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ats/txoj/LockManagerAttribute.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LockManager.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
