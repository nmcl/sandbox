<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_03) on Thu Dec 02 11:07:25 GMT 2004 -->
<TITLE>
UserCompensationTransaction
</TITLE>

<META NAME="keywords" CONTENT="javax.jaxtx.compensation.UserCompensationTransaction interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="UserCompensationTransaction";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/jaxtx/compensation/Status.html" title="interface in javax.jaxtx.compensation"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UserCompensationTransaction.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.jaxtx.compensation</FONT>
<BR>
Interface UserCompensationTransaction</H2>
<HR>
<DL>
<DT>public interface <B>UserCompensationTransaction</B></DL>

<P>
This is the interface that allows Compensation transactions (CTs)
 to be started and terminated.

 Importantly, a UserCompensationTransaction does not represent a specific
 CT, but rather is responsible for providing access to an implicit
 per-thread  transaction context; it is similar to the UserTransaction in
 the JTA specification. Therefore, all of the methods
 implicitly act on the current thread of control.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0

 $Id: UserCompensationTransaction.java,v 1.2 2004/09/16 10:06:26 nmcl Exp $</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#begin()">begin</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start a new compensation transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#cancel()">cancel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the CT must undo its work then the cancel method is used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#complete()">complete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The user of a CT may inform all currently enlisted participants
 that the work they are expected to do in the scope of the CT has
 been received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#confirm()">confirm</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The CT is normally terminated by the confirm method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#getTimeout()">getTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the timeout value that will be associated with any newly created
 compensation transactions on behalf of this thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#setTimeout(int)">setTimeout</A></B>(int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the timeout value that will be associated with any newly
 created compensation transactions on behalf of this thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/jaxtx/compensation/UserCompensationTransaction.html#status()">status</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="begin()"><!-- --></A><H3>
begin</H3>
<PRE>
public void <B>begin</B>()
           throws <A HREF="../../../javax/jaxtx/compensation/NotSupportedException.html" title="class in javax.jaxtx.compensation">NotSupportedException</A>,
                  <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD>Start a new compensation transaction. Upon success, this
 operation associates the newly created transaction with the current
 thread. A timeout may be associated with the transaction if a previous
 call to setTimeout has been made.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/NotSupportedException.html" title="class in javax.jaxtx.compensation">NotSupportedException</A></CODE> - thrown if nesting of compensation
 transactions is not supported.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - thrown if some other error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="confirm()"><!-- --></A><H3>
confirm</H3>
<PRE>
public void <B>confirm</B>()
             throws <A HREF="../../../javax/jaxtx/compensation/CompensationTransactionCancelledException.html" title="class in javax.jaxtx.compensation">CompensationTransactionCancelledException</A>,
                    <A HREF="../../../javax/jaxtx/compensation/UnknownCompensationTransactionException.html" title="class in javax.jaxtx.compensation">UnknownCompensationTransactionException</A>,
                    <A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A>,
                    <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD>The CT is normally terminated by the confirm method. This signals to
 all registered participants that the CT has ended and no compensation
 is required.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/CompensationTransactionCancelledException.html" title="class in javax.jaxtx.compensation">CompensationTransactionCancelledException</A></CODE> - thrown if the transaction
 cancelled. This will happen if the timeout elapses prior to a call
 to confirm.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/UnknownCompensationTransactionException.html" title="class in javax.jaxtx.compensation">UnknownCompensationTransactionException</A></CODE> - thrown if the system does
 not recognize the transaction. This may occur if the transaction has previously
 completed.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - thrown if some other error occurs.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="cancel()"><!-- --></A><H3>
cancel</H3>
<PRE>
public void <B>cancel</B>()
            throws <A HREF="../../../javax/jaxtx/compensation/UnknownCompensationTransactionException.html" title="class in javax.jaxtx.compensation">UnknownCompensationTransactionException</A>,
                   <A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A>,
                   <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD>If the CT must undo its work then the cancel method is used. Any
 participants that can compensate are forced to do so.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/UnknownCompensationTransactionException.html" title="class in javax.jaxtx.compensation">UnknownCompensationTransactionException</A></CODE> - thrown if the system does
 not recognize the transaction. This may occur if the transaction has previously
 completed.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - thrown if some other error occurs.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="complete()"><!-- --></A><H3>
complete</H3>
<PRE>
public void <B>complete</B>()
              throws <A HREF="../../../javax/jaxtx/compensation/UnknownCompensationTransactionException.html" title="class in javax.jaxtx.compensation">UnknownCompensationTransactionException</A>,
                     <A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A>,
                     <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD>The user of a CT may inform all currently enlisted participants
 that the work they are expected to do in the scope of the CT has
 been received.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/UnknownCompensationTransactionException.html" title="class in javax.jaxtx.compensation">UnknownCompensationTransactionException</A></CODE> - thrown if the system does
 not recognize the transaction. This may occur if the transaction has previously
 completed.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - thrown if some other error occurs.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="status()"><!-- --></A><H3>
status</H3>
<PRE>
public int <B>status</B>()
           throws <A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A>,
                  <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the status of the current transaction.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/NoCompensationTransactionException.html" title="class in javax.jaxtx.compensation">NoCompensationTransactionException</A></CODE> - Thrown if there is no transaction
 associated with the calling thread.
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - Thrown if any error occurs.<DT><B>See Also:</B><DD><A HREF="../../../javax/jaxtx/compensation/Status.html" title="interface in javax.jaxtx.compensation"><CODE>Status</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getTimeout()"><!-- --></A><H3>
getTimeout</H3>
<PRE>
public int <B>getTimeout</B>()
               throws <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD>Returns the timeout value that will be associated with any newly created
 compensation transactions on behalf of this thread. This may not be the
 value associated with any currently running transactions. A value of 0 is
 an implementation specific timeout.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the timeout value associated with this thread.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - thrown if some other error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="setTimeout(int)"><!-- --></A><H3>
setTimeout</H3>
<PRE>
public void <B>setTimeout</B>(int&nbsp;timeout)
                throws <A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></PRE>
<DL>
<DD>Sets the timeout value that will be associated with any newly
 created compensation transactions on behalf of this thread. This value
 will be used if no other value is specified during a subsequent call
 to begin. A value of 0 is an implementation specific timeout.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the timeout value associated with this thread.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/jaxtx/compensation/SystemException.html" title="class in javax.jaxtx.compensation">SystemException</A></CODE> - thrown if some other error occurs.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/jaxtx/compensation/Status.html" title="interface in javax.jaxtx.compensation"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UserCompensationTransaction.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
