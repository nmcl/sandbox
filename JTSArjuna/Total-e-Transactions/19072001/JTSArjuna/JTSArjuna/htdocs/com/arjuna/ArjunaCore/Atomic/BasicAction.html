<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Sep 20 13:52:04 GMT+01:00 2001 -->
<TITLE>
HP Bluestone Arjuna Transaction Service for Java Version 2_2_0: Class  BasicAction
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AtomicAction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CadaverRecord.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BasicAction.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.ArjunaCore.Atomic</FONT>
<BR>
Class  BasicAction</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">com.arjuna.ArjunaCore.Atomic.StateManager</A>
        |
        +--<B>com.arjuna.ArjunaCore.Atomic.BasicAction</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AtomicAction.html">AtomicAction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>BasicAction</B><DT>extends <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></DL>

<P>
BasicAction does most of the work of an atomic action,
 but does not manage thread scoping. This is the responsibility
 of any derived classes.
<P>
<DL>
<DT><B>Since: </B><DD>JTS 1.0.</DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Hashtable</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#allActions">allActions</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#failedList">failedList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#heuristicList">heuristicList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#pendingList">pendingList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#preparedList">preparedList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#readonlyList">readonlyList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modifyingActions">modifyingActions</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#objectName">objectName</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#smAttributes">smAttributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#usingActions">usingActions</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#BasicAction()">BasicAction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#BasicAction(int)">BasicAction</A></B>(int&nbsp;at)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a transaction of the specified type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#BasicAction(com.arjuna.ArjunaCommon.Common.Uid)">BasicAction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;objUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BasicAction constructor with a Uid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#BasicAction(com.arjuna.ArjunaCommon.Common.Uid, int)">BasicAction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;u,
            int&nbsp;at)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recreate the specified transaction.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#Abort()">Abort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the user callable abort operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#activate()">activate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#activate(java.lang.String)">activate</A></B>(java.lang.String&nbsp;root)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#activeThreads()">activeThreads</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#add(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">add</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;A)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a record to the atomic action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addChildAction(com.arjuna.ArjunaCore.Atomic.BasicAction)">addChildAction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A>&nbsp;act)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new child action to the atomic action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addChildThread()">addChildThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the current thread to the list of threads associated
 with this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addChildThread(java.lang.Thread)">addChildThread</A></B>(java.lang.Thread&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the specified thread to the list of threads associated
 with this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addRecord(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">addRecord</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;A)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the specified abstract record to the transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#Begin(com.arjuna.ArjunaCore.Atomic.BasicAction)">Begin</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A>&nbsp;parentAct)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Atomic action Begin operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#childTransactions()">childTransactions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#criticalEnd()">criticalEnd</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defines the end of a critical region
 by resetting the critical flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#criticalStart()">criticalStart</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defines the start of a critical region
 by setting the critical flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#Current()">Current</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#destroy()">destroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overloads <code>StateManager.destroy</code> to prevent destroy
 being called on a BasicAction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#End(boolean)">End</A></B>(boolean&nbsp;reportHeuristics)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End the atomic action by committing it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BasicAction destructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#forgetHeuristics()">forgetHeuristics</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Forget any heuristics we may have received, and tell the resources
 which generated them to forget too.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#getHeuristicDecision()">getHeuristicDecision</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ActionHierarchy.html">ActionHierarchy</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#getHierarchy()">getHierarchy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the action hierarchy for this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#getSavingUid()">getSavingUid</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#hierarchyDepth()">hierarchyDepth</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#isAncestor(com.arjuna.ArjunaCommon.Common.Uid)">isAncestor</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;ancestor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean function that checks whether the Uid passed as an
 argument is the Uid for an ancestor of the current
 atomic action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#maintainHeuristics()">maintainHeuristics</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If heuristic outcomes are returned, by default we will not save
 the state once the forget method has been called on them (which
 happens as soon as we have received all outcomes from registered
 resources).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#onePhaseCommit(boolean)">onePhaseCommit</A></B>(boolean&nbsp;reportHeuristics)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There is only one record on the intentions list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#parent()">parent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#phase2Abort(boolean)">phase2Abort</A></B>(boolean&nbsp;reportHeuristics)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Second phase of the two phase commit protocol for aborting actions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#phase2Cleanup()">phase2Cleanup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cleanup phase for actions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#phase2Commit(boolean)">phase2Commit</A></B>(boolean&nbsp;reportHeuristics)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Second phase of the two-phase commit protocol for committing actions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#prepare(boolean)">prepare</A></B>(boolean&nbsp;reportHeuristics)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Phase one of a two phase commit protocol.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#preparedStatus()">preparedStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#preventCommit()">preventCommit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Force the only outcome for the transaction to be to
 rollback.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#removeChildAction(com.arjuna.ArjunaCore.Atomic.BasicAction)">removeChildAction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A>&nbsp;act)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a child action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#removeChildThread()">removeChildThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a child thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#removeChildThread(java.lang.String)">removeChildThread</A></B>(java.lang.String&nbsp;threadId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the specified thread from the transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)">restore_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
              int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This assumes the various lists are zero length when it is called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
           int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redefined version of save_state and restore_state from StateManager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CheckedAction.html">CheckedAction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#setCheckedAction(com.arjuna.ArjunaCore.Atomic.CheckedAction)">setCheckedAction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CheckedAction.html">CheckedAction</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the specified CheckedAction object to this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#status()">status</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Interface/ObjectStore.html">ObjectStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#store()">store</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set up an object store and assign it to the currentStore variable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#topLevelAction()">topLevelAction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#topLevelActionUid()">topLevelActionUid</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The following function returns the Uid of the top-level atomic
 action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overloads Object.toString()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#type()">type</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overloads StateManager.type()</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#attributes()">attributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#cleanup(boolean)">cleanup</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate()">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String, boolean)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#disable()">disable</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#forgetAction(com.arjuna.ArjunaCore.Atomic.BasicAction, boolean, int)">forgetAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#get_uid()">get_uid</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getMutex()">getMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getStoreRoot()">getStoreRoot</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#loadObjectState()">loadObjectState</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#lockMutex()">lockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modified()">modified</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#ObjectType()">ObjectType</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#packHeader(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">packHeader</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#persist()">persist</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#print(java.io.PrintWriter)">print</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#rememberAction(com.arjuna.ArjunaCore.Atomic.BasicAction, int)">rememberAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore()">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore(java.lang.String)">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#terminate()">terminate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#tryLockMutex()">tryLockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unlockMutex()">unlockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unpackHeader(com.arjuna.ArjunaCommon.Common.InputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">unpackHeader</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="allActions"><!-- --></A><H3>
allActions</H3>
<PRE>
public static java.util.Hashtable <B>allActions</B></PRE>
<DL>
</DL>
<HR>

<A NAME="pendingList"><!-- --></A><H3>
pendingList</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A> <B>pendingList</B></PRE>
<DL>
</DL>
<HR>

<A NAME="preparedList"><!-- --></A><H3>
preparedList</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A> <B>preparedList</B></PRE>
<DL>
</DL>
<HR>

<A NAME="readonlyList"><!-- --></A><H3>
readonlyList</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A> <B>readonlyList</B></PRE>
<DL>
</DL>
<HR>

<A NAME="failedList"><!-- --></A><H3>
failedList</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A> <B>failedList</B></PRE>
<DL>
</DL>
<HR>

<A NAME="heuristicList"><!-- --></A><H3>
heuristicList</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/RecordList.html">RecordList</A> <B>heuristicList</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="BasicAction()"><!-- --></A><H3>
BasicAction</H3>
<PRE>
public <B>BasicAction</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="BasicAction(com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
BasicAction</H3>
<PRE>
public <B>BasicAction</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;objUid)</PRE>
<DL>
<DD>BasicAction constructor with a Uid.
 This constructor is for recreating an BasicAction, typically during
 crash recovery.</DL>
<HR>

<A NAME="BasicAction(int)"><!-- --></A><H3>
BasicAction</H3>
<PRE>
protected <B>BasicAction</B>(int&nbsp;at)</PRE>
<DL>
<DD>Create a transaction of the specified type.</DL>
<HR>

<A NAME="BasicAction(com.arjuna.ArjunaCommon.Common.Uid, int)"><!-- --></A><H3>
BasicAction</H3>
<PRE>
protected <B>BasicAction</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;u,
                      int&nbsp;at)</PRE>
<DL>
<DD>Recreate the specified transaction. Used for crash recovery
 purposes.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()</PRE>
<DL>
<DD>BasicAction destructor. Under normal circumstances we do very little.
 However there exists the possibility that this action is being deleted
 while still running (user forgot to commit/abort) - in which case we
 do an abort for him and mark all our parents as unable to commit.
 Additionally due to scoping we may not be the current action - but
 in that case the current action must be one of our nested actions
 so by applying abort to it we should end up at ourselves!<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#finalize()">finalize</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getHierarchy()"><!-- --></A><H3>
getHierarchy</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ActionHierarchy.html">ActionHierarchy</A> <B>getHierarchy</B>()</PRE>
<DL>
<DD>Return the action hierarchy for this transaction.</DL>
<HR>

<A NAME="preventCommit()"><!-- --></A><H3>
preventCommit</H3>
<PRE>
public final boolean <B>preventCommit</B>()</PRE>
<DL>
<DD>Force the only outcome for the transaction to be to
 rollback. Only possible if this transaction has not
 (or is not) terminated.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="activeThreads()"><!-- --></A><H3>
activeThreads</H3>
<PRE>
public final int <B>activeThreads</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the number of threads associated with this transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="add(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
add</H3>
<PRE>
public final int <B>add</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;A)</PRE>
<DL>
<DD>Add a record to the atomic action.
 This function returns AR_ADDED if the record is added. AR_REJECTED
 if the record cannot be added because the action is past the
 prepare phase, and IGNORED otherwise.<DD><DL>
<DT><B>Returns:</B><DD><code>AddOutcome</code> indicating outcome.</DL>
</DD>
</DL>
<HR>

<A NAME="hierarchyDepth()"><!-- --></A><H3>
hierarchyDepth</H3>
<PRE>
public final int <B>hierarchyDepth</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the depth of the current transaction hierarchy.</DL>
</DD>
</DL>
<HR>

<A NAME="isAncestor(com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
isAncestor</H3>
<PRE>
public final boolean <B>isAncestor</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;ancestor)</PRE>
<DL>
<DD>boolean function that checks whether the Uid passed as an
 argument is the Uid for an ancestor of the current
 atomic action.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if the parameter represents an ancestor,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="parent()"><!-- --></A><H3>
parent</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A> <B>parent</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>a reference to the parent BasicAction</DL>
</DD>
</DL>
<HR>

<A NAME="status()"><!-- --></A><H3>
status</H3>
<PRE>
public final int <B>status</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#status()">status</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD>the status of the BasicAction</DL>
</DD>
</DL>
<HR>

<A NAME="store()"><!-- --></A><H3>
store</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCore/Interface/ObjectStore.html">ObjectStore</A> <B>store</B>()</PRE>
<DL>
<DD>Set up an object store and assign it to the currentStore variable.<DD><DL>
<DT><B>Returns:</B><DD>the object store implementation to use.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Interface/ObjectStore.html"><CODE>ObjectStore</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="topLevelActionUid()"><!-- --></A><H3>
topLevelActionUid</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A> <B>topLevelActionUid</B>()</PRE>
<DL>
<DD>The following function returns the Uid of the top-level atomic
 action. If this is the top-level transaction then it is
 equivalent to calling get_uid().<DD><DL>
<DT><B>Returns:</B><DD>the top-level transaction's <code>Uid</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="topLevelAction()"><!-- --></A><H3>
topLevelAction</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A> <B>topLevelAction</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>a reference to the top-level transaction. If this is
 the top-level transaction then a reference to itself will
 be returned.</DL>
</DD>
</DL>
<HR>

<A NAME="activate()"><!-- --></A><H3>
activate</H3>
<PRE>
public boolean <B>activate</B>()</PRE>
<DL>
<DD>Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state. The store root is <code>null</code>.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#activate()">activate</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="activate(java.lang.String)"><!-- --></A><H3>
activate</H3>
<PRE>
public boolean <B>activate</B>(java.lang.String&nbsp;root)</PRE>
<DL>
<DD>Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state. The root of the object store to use is
 specified in the <code>root</code> parameter.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#activate(java.lang.String)">activate</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="addChildThread()"><!-- --></A><H3>
addChildThread</H3>
<PRE>
public final boolean <B>addChildThread</B>()</PRE>
<DL>
<DD>Add the current thread to the list of threads associated
 with this transaction.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="addChildThread(java.lang.Thread)"><!-- --></A><H3>
addChildThread</H3>
<PRE>
public final boolean <B>addChildThread</B>(java.lang.Thread&nbsp;t)</PRE>
<DL>
<DD>Add the specified thread to the list of threads associated
 with this transaction.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="removeChildThread()"><!-- --></A><H3>
removeChildThread</H3>
<PRE>
public final boolean <B>removeChildThread</B>()</PRE>
<DL>
<DD>Remove a child thread. The current thread is removed.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="removeChildThread(java.lang.String)"><!-- --></A><H3>
removeChildThread</H3>
<PRE>
public final boolean <B>removeChildThread</B>(java.lang.String&nbsp;threadId)</PRE>
<DL>
<DD>Remove the specified thread from the transaction.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="addChildAction(com.arjuna.ArjunaCore.Atomic.BasicAction)"><!-- --></A><H3>
addChildAction</H3>
<PRE>
public final boolean <B>addChildAction</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A>&nbsp;act)</PRE>
<DL>
<DD>Add a new child action to the atomic action.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="removeChildAction(com.arjuna.ArjunaCore.Atomic.BasicAction)"><!-- --></A><H3>
removeChildAction</H3>
<PRE>
public final boolean <B>removeChildAction</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A>&nbsp;act)</PRE>
<DL>
<DD>Remove a child action.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="setCheckedAction(com.arjuna.ArjunaCore.Atomic.CheckedAction)"><!-- --></A><H3>
setCheckedAction</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CheckedAction.html">CheckedAction</A> <B>setCheckedAction</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CheckedAction.html">CheckedAction</A>&nbsp;c)</PRE>
<DL>
<DD>Add the specified CheckedAction object to this transaction.<DD><DL>
<DT><B>Returns:</B><DD>the previous <code>CheckedAction</code>.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CheckedAction.html"><CODE>CheckedAction</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getSavingUid()"><!-- --></A><H3>
getSavingUid</H3>
<PRE>
public <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A> <B>getSavingUid</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the Uid that the transaction's intentions list will be
 saved under.</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Overloads Object.toString()<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)"><!-- --></A><H3>
save_state</H3>
<PRE>
public boolean <B>save_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                          int&nbsp;ot)</PRE>
<DL>
<DD>Redefined version of save_state and restore_state from StateManager.

 Normal operation (no crashes):

 BasicAction.save_state is called after a successful prepare. This
 causes and BasicAction object to be saved in the object store. This
 object contains primarily the "intentions list" of the BasicAction.
 After successfully completing phase 2 of the commit protocol, the
 BasicAction object is deleted from the store.

 Failure cases:

 If a server crashes after successfully preparing, then upon recovery the
 action must be resolved (either committed or aborted) depending upon 
 whether the co-ordinating atomic action committed or aborted.
 Upon server recovery, the crash recovery mechanism detects
 ServerBasicAction objects in the object store and attempts to activate
 the BasicAction object of the co-ordinating action. If this is
 successful then the SAA is committed else aborted.

 If, when processing phase 2 of the commit protocol, the co-ordinator
 experiences a failure to commit from one of the records then the
 BasicAction object is NOT deleted. It is rewritten when a new state
 which contains a list of the records that failed during phase 2 commit.
 This list is called the "failedList".

 The crash recovery manager will detect local BasicAction objects in
 addition to SAA objects in the objectstore. An attempt will be made
 to commit these actions. If the action contained a call to a now dead
 server, this action can never be resolved and the AA object can never
 be removed. However, if the action is purely local then after the 
 processing is complete the removed by crash recovery.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)"><!-- --></A><H3>
restore_state</H3>
<PRE>
public boolean <B>restore_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
                             int&nbsp;ot)</PRE>
<DL>
<DD>This assumes the various lists are zero length when it is called.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)">restore_state</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="type()"><!-- --></A><H3>
type</H3>
<PRE>
public java.lang.String <B>type</B>()</PRE>
<DL>
<DD>Overloads StateManager.type()<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#type()">type</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="Current()"><!-- --></A><H3>
Current</H3>
<PRE>
public static <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A> <B>Current</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the thread's notion of the current transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="maintainHeuristics()"><!-- --></A><H3>
maintainHeuristics</H3>
<PRE>
public static boolean <B>maintainHeuristics</B>()</PRE>
<DL>
<DD>If heuristic outcomes are returned, by default we will not save
 the state once the forget method has been called on them (which
 happens as soon as we have received all outcomes from registered
 resources). By specifying otherwise, we will always maintain the
 heuristic information, which may prove useful for logging and
 off-line resolution.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if the transaction should save its
 heuristic information, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="destroy()"><!-- --></A><H3>
destroy</H3>
<PRE>
public boolean <B>destroy</B>()</PRE>
<DL>
<DD>Overloads <code>StateManager.destroy</code> to prevent destroy
 being called on a BasicAction. Could be a *very* bad idea!!<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#destroy()">destroy</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>false</code>.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html"><CODE>StateManager</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="childTransactions()"><!-- --></A><H3>
childTransactions</H3>
<PRE>
public final java.lang.Object[] <B>childTransactions</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the list of child transactions. Currently only their ids are
 given.<DT><B>Since: </B><DD>JTS 2.2.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="forgetHeuristics()"><!-- --></A><H3>
forgetHeuristics</H3>
<PRE>
protected boolean <B>forgetHeuristics</B>()</PRE>
<DL>
<DD>Forget any heuristics we may have received, and tell the resources
 which generated them to forget too.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if heuristic information (if any) was
 successfully forgotten, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="Begin(com.arjuna.ArjunaCore.Atomic.BasicAction)"><!-- --></A><H3>
Begin</H3>
<PRE>
protected int <B>Begin</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A>&nbsp;parentAct)</PRE>
<DL>
<DD>Atomic action Begin operation. Does not change the calling
 thread's notion of the current transaction.<DD><DL>
<DT><B>Returns:</B><DD><code>ActionStatus</code> indicating outcome.</DL>
</DD>
</DL>
<HR>

<A NAME="End(boolean)"><!-- --></A><H3>
End</H3>
<PRE>
protected int <B>End</B>(boolean&nbsp;reportHeuristics)</PRE>
<DL>
<DD>End the atomic action by committing it. This invokes the prepare()
 operation. If this succeeds then the pendingList should be empty 
 and the records that were formally on it will have been distributed
 between the preparedList and the readonlyList, also if the action is
 topLevel then the intention list will have been written to the 
 object store. Then invoke phase2Commit and clean up the object store
 if necessary

 If prepare() fails invoke phase2Abort. In this case the pendingList
 may still contain records but phase2Abort takes care of these. Also
 in this case no intention list has been written.

 Does not change the calling thread's notion of the current transaction.

 Any heuristic outcomes will only be reported if the parameter is
 <code>true</code>.<DD><DL>
<DT><B>Returns:</B><DD><code>ActionStatus</code> indicating outcome.</DL>
</DD>
</DL>
<HR>

<A NAME="Abort()"><!-- --></A><H3>
Abort</H3>
<PRE>
protected int <B>Abort</B>()</PRE>
<DL>
<DD>This is the user callable abort operation. It is invoked prior to the
 start of two-phase commit and hence only processes records in the
 pendingList (the other lists should be empty).

 Does not change the calling thread's notion of the current transaction.<DD><DL>
<DT><B>Returns:</B><DD><code>ActionStatus</code> indicating outcome.</DL>
</DD>
</DL>
<HR>

<A NAME="criticalStart()"><!-- --></A><H3>
criticalStart</H3>
<PRE>
protected final void <B>criticalStart</B>()</PRE>
<DL>
<DD>Defines the start of a critical region
 by setting the critical flag. If the signal handler is
 called the class variable abortAndExit is set. The value of
 this variable is checked in the corresponding operation to
 end the critical region.</DL>
<HR>

<A NAME="criticalEnd()"><!-- --></A><H3>
criticalEnd</H3>
<PRE>
protected final void <B>criticalEnd</B>()</PRE>
<DL>
<DD>Defines the end of a critical region
 by resetting the critical flag. If the signal handler is
 called the class variable abortAndExit is set. The value of
 this variable is checked when ending the critical region.</DL>
<HR>

<A NAME="phase2Cleanup()"><!-- --></A><H3>
phase2Cleanup</H3>
<PRE>
protected final void <B>phase2Cleanup</B>()</PRE>
<DL>
<DD>Cleanup phase for actions.
 If an action is in the PREPARED state when a terminate signal is
 delivered (ie the coordinator node has crashed) then we need to
 cleanup. This is essentially the same as phase2Abort but we call
 cleanup ops rather than abort ops and let the records take care
 of appropriate cleanup.

 The pendingList is processed because it may not be empty - since
 prepare() stops processing the list at the first PREP_NOTOK result.

 The read_only list is processed to ensure that actions are aborted
 immediately and any servers killed at that point since they need not
 hang around. This contrasts with commit where readonlyList entries 
 are simply merged with the parent list or discarded</DL>
<HR>

<A NAME="phase2Commit(boolean)"><!-- --></A><H3>
phase2Commit</H3>
<PRE>
protected final void <B>phase2Commit</B>(boolean&nbsp;reportHeuristics)</PRE>
<DL>
<DD>Second phase of the two-phase commit protocol for committing actions.
 This operation first invokes the doCommit operation on the
 preparedList. This ensures that the appropriate commit operation
 is performed on each entry which is then either deleted (top_level)
 or merged into the parent's pendingList.

 Processing of the readonlyList is different in that if the action
 is top_level then all records in the readonlyList are deleted without
 further processing. If nested the records must be merged. This is
 an optimisation to avoid unnecessary processing.

 Note that at this point the pendingList SHOULD be empty due to the
 prior invocation of prepare().</DL>
<HR>

<A NAME="phase2Abort(boolean)"><!-- --></A><H3>
phase2Abort</H3>
<PRE>
protected final void <B>phase2Abort</B>(boolean&nbsp;reportHeuristics)</PRE>
<DL>
<DD>Second phase of the two phase commit protocol for aborting actions.
 Actions are aborted by invoking the doAbort operation on the
 preparedList, the readonlyList, and the pendingList.

 The pendingList is processed because it may not be empty - since
 prepare() stops processing the list at the first PREP_NOTOK result.

 By default, records that responsed PREP_READONLY will not be contacted
 during second-phase abort, just as they are not during second-phase
 commit. This can be overridden at runtime using the
 READONLY_OPTIMISATION variable.</DL>
<HR>

<A NAME="prepare(boolean)"><!-- --></A><H3>
prepare</H3>
<PRE>
protected final int <B>prepare</B>(boolean&nbsp;reportHeuristics)</PRE>
<DL>
<DD>Phase one of a two phase commit protocol.
 This function returns the ouctome of the prepare operation.
 If all goes well it will be PREP_OK, if not PREP_NOTOK.
 The value PREP_READONLY may also be returned if all the records indicate
 that they are readonly records. Such records do not take part in the
 second phase commit processing.<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> indicating outcome.</DL>
</DD>
</DL>
<HR>

<A NAME="onePhaseCommit(boolean)"><!-- --></A><H3>
onePhaseCommit</H3>
<PRE>
protected void <B>onePhaseCommit</B>(boolean&nbsp;reportHeuristics)</PRE>
<DL>
<DD>There is only one record on the intentions list.
 Only called from synchronized methods.
 Don't bother about creating separate threads here!</DL>
<HR>

<A NAME="getHeuristicDecision()"><!-- --></A><H3>
getHeuristicDecision</H3>
<PRE>
protected final int <B>getHeuristicDecision</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the current heuristic decision. Each time a heuristic
 outcome is received, we need to merge it with any previous
 outcome to determine what the overall heuristic decision is
 (e.g., a heuristic rollback followed by a heuristic commit means
 the overall decision is heuristic mixed.)</DL>
</DD>
</DL>
<HR>

<A NAME="addRecord(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
addRecord</H3>
<PRE>
protected final void <B>addRecord</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;A)</PRE>
<DL>
<DD>Add the specified abstract record to the transaction. Does
 not do any of the runtime checking of BasicAction.add, so
 should be used with care. Currently used by crash recovery.</DL>
<HR>

<A NAME="preparedStatus()"><!-- --></A><H3>
preparedStatus</H3>
<PRE>
protected int <B>preparedStatus</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Since: </B><DD>JTS 2.0.</DD>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AtomicAction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CadaverRecord.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BasicAction.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
