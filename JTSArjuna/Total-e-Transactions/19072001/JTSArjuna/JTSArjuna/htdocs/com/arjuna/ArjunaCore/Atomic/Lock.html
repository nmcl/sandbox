<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Sep 20 13:52:04 GMT+01:00 2001 -->
<TITLE>
HP Bluestone Arjuna Transaction Service for Java Version 2_2_0: Class  Lock
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/InitAction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/LockManager.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Lock.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.ArjunaCore.Atomic</FONT>
<BR>
Class  Lock</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">com.arjuna.ArjunaCore.Atomic.StateManager</A>
        |
        +--<B>com.arjuna.ArjunaCore.Atomic.Lock</B>
</PRE>
<HR>
<DL>
<DT>public class <B>Lock</B><DT>extends <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></DL>

<P>
Instances of this class (or derived user classes) are used
 when trying to set a lock. The default implementation provides a
 single-write/multiple-reader policy. However, by overridding
 the appropriate methods, other, type-specific concurrency control
 locks can be implemented.
<P>
<DL>
<DT><B>Since: </B><DD>JTS 1.0.</DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modifyingActions">modifyingActions</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#objectName">objectName</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#smAttributes">smAttributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#usingActions">usingActions</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#Lock()">Lock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#Lock(int)">Lock</A></B>(int&nbsp;lm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new Lock object and initialise it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#Lock(com.arjuna.ArjunaCommon.Common.Uid)">Lock</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;storeUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used when re-initialising a Lock after
 retrieval from the object store.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#changeHierarchy(com.arjuna.ArjunaCore.Atomic.ActionHierarchy)">changeHierarchy</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ActionHierarchy.html">ActionHierarchy</A>&nbsp;newOwner)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Change the transaction hierarchy associated with the lock to
 that provided.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#conflictsWith(com.arjuna.ArjunaCore.Atomic.Lock)">conflictsWith</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A>&nbsp;otherLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Implementation of Lock conflict check.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#equals(com.arjuna.ArjunaCore.Atomic.Lock)">equals</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A>&nbsp;otherLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Are the two locks equal?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#equals(java.lang.Object)">equals</A></B>(java.lang.Object&nbsp;otherLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides Object.equals()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;General clean up as Lock is deleted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ActionHierarchy.html">ActionHierarchy</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#getAllOwners()">getAllOwners</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#getCurrentOwner()">getCurrentOwner</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#getCurrentStatus()">getCurrentStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#getLink()">getLink</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the next lock in the chain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#getLockMode()">getLockMode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#modifiesObject()">modifiesObject</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does this lock imply a modification of the object it is applied
 to? For example, a READ lock would return false, but a WRITE
 lock would return true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#print(java.io.PrintWriter)">print</A></B>(java.io.PrintWriter&nbsp;strm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions inherited from StateManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#propagate()">propagate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Propagate the lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)">restore_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
              int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carefully restore the state of a Lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
           int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save the state of a lock object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#setLink(com.arjuna.ArjunaCore.Atomic.Lock)">setLink</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A>&nbsp;pointTo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the next lock in the chain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides Object.toString()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html#type()">type</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides StateManager.type()</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#activate()">activate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#activate(java.lang.String)">activate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#attributes()">attributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#cleanup(boolean)">cleanup</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate()">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String, boolean)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#destroy()">destroy</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#disable()">disable</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#forgetAction(com.arjuna.ArjunaCore.Atomic.BasicAction, boolean, int)">forgetAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#get_uid()">get_uid</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getMutex()">getMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getStoreRoot()">getStoreRoot</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#loadObjectState()">loadObjectState</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#lockMutex()">lockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modified()">modified</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#ObjectType()">ObjectType</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#packHeader(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">packHeader</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#persist()">persist</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#rememberAction(com.arjuna.ArjunaCore.Atomic.BasicAction, int)">rememberAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore()">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore(java.lang.String)">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#status()">status</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#terminate()">terminate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#tryLockMutex()">tryLockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unlockMutex()">unlockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unpackHeader(com.arjuna.ArjunaCommon.Common.InputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">unpackHeader</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Lock()"><!-- --></A><H3>
Lock</H3>
<PRE>
public <B>Lock</B>()</PRE>
<DL>
<DD>Create a new lock.</DL>
<HR>

<A NAME="Lock(int)"><!-- --></A><H3>
Lock</H3>
<PRE>
public <B>Lock</B>(int&nbsp;lm)</PRE>
<DL>
<DD>Create a new Lock object and initialise it. Mode is
 based upon argument. The value of BasicAction.Current determines the 
 values of the remainder of the fields.
 If there is no action running the owner field is set to be the
 application uid created when the application starts.</DL>
<HR>

<A NAME="Lock(com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
Lock</H3>
<PRE>
public <B>Lock</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;storeUid)</PRE>
<DL>
<DD>This is used when re-initialising a Lock after
 retrieval from the object store.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()
              throws java.lang.Throwable</PRE>
<DL>
<DD>General clean up as Lock is deleted.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#finalize()">finalize</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLockMode()"><!-- --></A><H3>
getLockMode</H3>
<PRE>
public final int <B>getLockMode</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the mode this lock is currently in, e.g.,
 <code>LockMode.READ</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentOwner()"><!-- --></A><H3>
getCurrentOwner</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A> <B>getCurrentOwner</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the identity of the lock's current owner (the transaction id).</DL>
</DD>
</DL>
<HR>

<A NAME="getAllOwners()"><!-- --></A><H3>
getAllOwners</H3>
<PRE>
public final <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ActionHierarchy.html">ActionHierarchy</A> <B>getAllOwners</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the transaction hierarchy associated with this
 lock.</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentStatus()"><!-- --></A><H3>
getCurrentStatus</H3>
<PRE>
public final int <B>getCurrentStatus</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Returns:</B><DD>the lock's current status.</DL>
</DD>
</DL>
<HR>

<A NAME="changeHierarchy(com.arjuna.ArjunaCore.Atomic.ActionHierarchy)"><!-- --></A><H3>
changeHierarchy</H3>
<PRE>
public final void <B>changeHierarchy</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ActionHierarchy.html">ActionHierarchy</A>&nbsp;newOwner)</PRE>
<DL>
<DD>Change the transaction hierarchy associated with the lock to
 that provided.</DL>
<HR>

<A NAME="propagate()"><!-- --></A><H3>
propagate</H3>
<PRE>
public final void <B>propagate</B>()</PRE>
<DL>
<DD>Propagate the lock.</DL>
<HR>

<A NAME="modifiesObject()"><!-- --></A><H3>
modifiesObject</H3>
<PRE>
public boolean <B>modifiesObject</B>()</PRE>
<DL>
<DD>Does this lock imply a modification of the object it is applied
 to? For example, a READ lock would return false, but a WRITE
 lock would return true.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if this lock implies the object's state
 will be modified, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="conflictsWith(com.arjuna.ArjunaCore.Atomic.Lock)"><!-- --></A><H3>
conflictsWith</H3>
<PRE>
public boolean <B>conflictsWith</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A>&nbsp;otherLock)</PRE>
<DL>
<DD>Implementation of Lock conflict check. Returns TRUE if there is
 conflict FALSE otherwise. Does not take account of relationship in
 the atomic action hierarchy since this is a function of
 LockManager.<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if this lock conflicts with the parameter,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="equals(java.lang.Object)"><!-- --></A><H3>
equals</H3>
<PRE>
public boolean <B>equals</B>(java.lang.Object&nbsp;otherLock)</PRE>
<DL>
<DD>Overrides Object.equals()<DD><DL>
<DT><B>Overrides:</B><DD><CODE>equals</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="equals(com.arjuna.ArjunaCore.Atomic.Lock)"><!-- --></A><H3>
equals</H3>
<PRE>
public boolean <B>equals</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A>&nbsp;otherLock)</PRE>
<DL>
<DD>Are the two locks equal?<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if the locks are equal, <code>false</code>
 otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Overrides Object.toString()<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="print(java.io.PrintWriter)"><!-- --></A><H3>
print</H3>
<PRE>
public void <B>print</B>(java.io.PrintWriter&nbsp;strm)</PRE>
<DL>
<DD>functions inherited from StateManager<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#print(java.io.PrintWriter)">print</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)"><!-- --></A><H3>
restore_state</H3>
<PRE>
public boolean <B>restore_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
                             int&nbsp;ot)</PRE>
<DL>
<DD>Carefully restore the state of a Lock.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)">restore_state</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code>
 otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)"><!-- --></A><H3>
save_state</H3>
<PRE>
public boolean <B>save_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                          int&nbsp;ot)</PRE>
<DL>
<DD>Save the state of a lock object.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code>
 otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="type()"><!-- --></A><H3>
type</H3>
<PRE>
public java.lang.String <B>type</B>()</PRE>
<DL>
<DD>Overrides StateManager.type()<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#type()">type</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLink()"><!-- --></A><H3>
getLink</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A> <B>getLink</B>()</PRE>
<DL>
<DD>Get the next lock in the chain.</DL>
<HR>

<A NAME="setLink(com.arjuna.ArjunaCore.Atomic.Lock)"><!-- --></A><H3>
setLink</H3>
<PRE>
protected void <B>setLink</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/Lock.html">Lock</A>&nbsp;pointTo)</PRE>
<DL>
<DD>Set the next lock in the chain.</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/InitAction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/LockManager.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Lock.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
