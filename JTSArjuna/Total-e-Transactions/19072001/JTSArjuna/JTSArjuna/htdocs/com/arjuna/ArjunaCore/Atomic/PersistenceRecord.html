<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Sep 20 13:52:04 GMT+01:00 2001 -->
<TITLE>
HP Bluestone Arjuna Transaction Service for Java Version 2_2_0: Class  PersistenceRecord
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ObjectType.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PersistenceRecord.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.ArjunaCore.Atomic</FONT>
<BR>
Class  PersistenceRecord</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">com.arjuna.ArjunaCore.Atomic.StateManager</A>
        |
        +--<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">com.arjuna.ArjunaCore.Atomic.AbstractRecord</A>
              |
              +--com.arjuna.ArjunaCore.Atomic.RecoveryRecord
                    |
                    +--<B>com.arjuna.ArjunaCore.Atomic.PersistenceRecord</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/CadaverRecord.html">CadaverRecord</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>PersistenceRecord</B><DT>extends com.arjuna.ArjunaCore.Atomic.RecoveryRecord</DL>

<P>
A PersistenceRecord is created whenever a persistent object is
 created/read/modified within the scope of a transaction. It is
 responsible for ensuring that state changes are committed or rolled back
 on behalf of the object depending upon the outcome of the transaction.
<P>
<DL>
<DT><B>Since: </B><DD>JTS 1.0.</DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#MAX_OBJECT_SIZE">MAX_OBJECT_SIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#objectAddr">objectAddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#state">state</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modifyingActions">modifyingActions</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#objectName">objectName</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#smAttributes">smAttributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#usingActions">usingActions</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#PersistenceRecord()">PersistenceRecord</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a 'blank' persistence record.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#PersistenceRecord(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCore.Interface.ObjectStore, com.arjuna.ArjunaCore.Atomic.StateManager)">PersistenceRecord</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                  <A HREF="../../../../com/arjuna/ArjunaCore/Interface/ObjectStore.html">ObjectStore</A>&nbsp;objStore,
                  <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A>&nbsp;sm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This constructor is used to create a new instance of
 PersistenceRecord.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#alter(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">alter</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alter the current record with the one presented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/arjuna/ArjunaCommon/Common/ClassName.html">ClassName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#className()">className</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Only used for crash recovery, so most records don't need it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#create()">create</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#doSave()">doSave</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should this record be saved in the intentions list?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#forgetAction(boolean)">forgetAction</A></B>(boolean&nbsp;commit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#merge(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">merge</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Merge the current record with the one presented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#nestedAbort()">nestedAbort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A rollback of a nested transaction has occurred.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#nestedCommit()">nestedCommit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A commit of a nested transaction has occurred.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#nestedPrepare()">nestedPrepare</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A prepare for a nested transaction has occurred.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#print(java.io.PrintWriter)">print</A></B>(java.io.PrintWriter&nbsp;strm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print out information about the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)">restore_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
              int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save_state and restore_state here are used by the corresponding
 operations of persistence records for crash recovery purposes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
           int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save_state and restore_state here are used by the corresponding
 operations of persistence records for crash recovery purposes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#setValue(java.lang.Object)">setValue</A></B>(java.lang.Object&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#shadowForced()">shadowForced</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cadaver records force write shadows.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#shouldAdd(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldAdd</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should we add the record presented to the intentions list?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#shouldAlter(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldAlter</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should we alter the current record with the one presented?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#shouldMerge(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldMerge</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should we merge the current record with the one presented?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#shouldReplace(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldReplace</A></B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should we replace the record presented with the current record?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#topLevelAbort()">topLevelAbort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topLevelAbort may have to remove the persistent state that was written
 into the object store during the processing of topLevelPrepare.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#topLevelCleanup()">topLevelCleanup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topLevelCleanup must leave the persistent state that was written
 in the object store during the processing of topLevelPrepare intact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#topLevelCommit()">topLevelCommit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit the state saved during the prepare phase.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#topLevelPrepare()">topLevelPrepare</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topLevelPrepare attempts to save the object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#type()">type</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re-implementation of abstract methods inherited from base class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#typeIs()">typeIs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redefintions of abstract functions inherited from RecoveryRecord.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PersistenceRecord.html#value()">value</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ArjunaCore.Atomic.AbstractRecord"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#create(com.arjuna.ArjunaCommon.Common.ClassName)">create</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#equals(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">equals</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#forgetHeuristic()">forgetHeuristic</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#getNext()">getNext</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#getPrevious()">getPrevious</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#getTypeOfObject()">getTypeOfObject</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#greaterThan(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">greaterThan</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#lessThan(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">lessThan</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#nestedCleanup()">nestedCleanup</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#nestedOnePhaseCommit()">nestedOnePhaseCommit</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#order()">order</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#propagateOnAbort()">propagateOnAbort</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#propagateOnCommit()">propagateOnCommit</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#replace(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">replace</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#setNext(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">setNext</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#setPrevious(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">setPrevious</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#topLevelOnePhaseCommit()">topLevelOnePhaseCommit</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#activate()">activate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#activate(java.lang.String)">activate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#attributes()">attributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#cleanup(boolean)">cleanup</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate()">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String, boolean)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#destroy()">destroy</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#disable()">disable</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#forgetAction(com.arjuna.ArjunaCore.Atomic.BasicAction, boolean, int)">forgetAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#get_uid()">get_uid</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getMutex()">getMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getStoreRoot()">getStoreRoot</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#loadObjectState()">loadObjectState</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#lockMutex()">lockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modified()">modified</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#ObjectType()">ObjectType</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#packHeader(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">packHeader</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#persist()">persist</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#rememberAction(com.arjuna.ArjunaCore.Atomic.BasicAction, int)">rememberAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore()">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore(java.lang.String)">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#status()">status</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#terminate()">terminate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#tryLockMutex()">tryLockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unlockMutex()">unlockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unpackHeader(com.arjuna.ArjunaCommon.Common.InputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">unpackHeader</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="MAX_OBJECT_SIZE"><!-- --></A><H3>
MAX_OBJECT_SIZE</H3>
<PRE>
public static final int <B>MAX_OBJECT_SIZE</B></PRE>
<DL>
</DL>
<HR>

<A NAME="objectAddr"><!-- --></A><H3>
objectAddr</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A> <B>objectAddr</B></PRE>
<DL>
</DL>
<HR>

<A NAME="state"><!-- --></A><H3>
state</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A> <B>state</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="PersistenceRecord(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCore.Interface.ObjectStore, com.arjuna.ArjunaCore.Atomic.StateManager)"><!-- --></A><H3>
PersistenceRecord</H3>
<PRE>
public <B>PersistenceRecord</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                         <A HREF="../../../../com/arjuna/ArjunaCore/Interface/ObjectStore.html">ObjectStore</A>&nbsp;objStore,
                         <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A>&nbsp;sm)</PRE>
<DL>
<DD>This constructor is used to create a new instance of
 PersistenceRecord.</DL>
<HR>

<A NAME="PersistenceRecord()"><!-- --></A><H3>
PersistenceRecord</H3>
<PRE>
protected <B>PersistenceRecord</B>()</PRE>
<DL>
<DD>Creates a 'blank' persistence record. This is used during crash recovery
 when recreating the prepared list of a server atomic action.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></B></DD>
<DD>Destructor.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>finalize</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="typeIs()"><!-- --></A><H3>
typeIs</H3>
<PRE>
public int <B>typeIs</B>()</PRE>
<DL>
<DD>Redefintions of abstract functions inherited from RecoveryRecord.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>typeIs</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>RecordType</code> value.</DL>
</DD>
</DL>
<HR>

<A NAME="className()"><!-- --></A><H3>
className</H3>
<PRE>
public <A HREF="../../../../com/arjuna/ArjunaCommon/Common/ClassName.html">ClassName</A> <B>className</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Only used for crash recovery, so most records don't need it.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#className()">className</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>ClassName</code> to identify this abstract record.</DL>
</DD>
</DL>
<HR>

<A NAME="topLevelAbort()"><!-- --></A><H3>
topLevelAbort</H3>
<PRE>
public int <B>topLevelAbort</B>()</PRE>
<DL>
<DD>topLevelAbort may have to remove the persistent state that was written
 into the object store during the processing of topLevelPrepare.
 It then does the standard abort processing.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>topLevelAbort</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> to indicate success/failure.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><CODE>PrepareOutcome</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="topLevelCommit()"><!-- --></A><H3>
topLevelCommit</H3>
<PRE>
public int <B>topLevelCommit</B>()</PRE>
<DL>
<DD>commit the state saved during the prepare phase.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>topLevelCommit</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> to indicate success/failure.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><CODE>PrepareOutcome</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="topLevelPrepare()"><!-- --></A><H3>
topLevelPrepare</H3>
<PRE>
public int <B>topLevelPrepare</B>()</PRE>
<DL>
<DD>topLevelPrepare attempts to save the object.
 It will either do this in the action intention list or directly
 in the object store by using the 'deactivate' function of the object
 depending upon the size of the state.
 To ensure that objects are correctly hidden while they are in an
 uncommitted state if we use the abbreviated protocol then we write an
 EMPTY object state as the shadow state - THIS MUST NOT BE COMMITTED.
 Instead we write_committed the one saved in the intention list.
 If the store cannot cope with being given an empty state we revert to
 the old protocol.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>topLevelPrepare</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> to indicate success/failure.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><CODE>PrepareOutcome</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="topLevelCleanup()"><!-- --></A><H3>
topLevelCleanup</H3>
<PRE>
public int <B>topLevelCleanup</B>()</PRE>
<DL>
<DD>topLevelCleanup must leave the persistent state that was written
 in the object store during the processing of topLevelPrepare intact.
 Crash recovery will take care of its resolution<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#topLevelCleanup()">topLevelCleanup</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> as default is the same as
 topLevelAbort.</DL>
</DD>
</DL>
<HR>

<A NAME="doSave()"><!-- --></A><H3>
doSave</H3>
<PRE>
public boolean <B>doSave</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Should this record be saved in the intentions list?<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#doSave()">doSave</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code></DL>
</DD>
</DL>
<HR>

<A NAME="restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)"><!-- --></A><H3>
restore_state</H3>
<PRE>
public boolean <B>restore_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
                             int&nbsp;ot)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>save_state and restore_state here are used by the corresponding
 operations of persistence records for crash recovery purposes.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>restore_state</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code>
 otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)"><!-- --></A><H3>
save_state</H3>
<PRE>
public boolean <B>save_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                          int&nbsp;ot)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>save_state and restore_state here are used by the corresponding
 operations of persistence records for crash recovery purposes.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>save_state</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code>
 otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="print(java.io.PrintWriter)"><!-- --></A><H3>
print</H3>
<PRE>
public void <B>print</B>(java.io.PrintWriter&nbsp;strm)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></B></DD>
<DD>Print out information about the object.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>print</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="type()"><!-- --></A><H3>
type</H3>
<PRE>
public java.lang.String <B>type</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Re-implementation of abstract methods inherited from base class.<DD><DL>
<DT><B>Overrides:</B><DD><CODE>type</CODE> in class <CODE>com.arjuna.ArjunaCore.Atomic.RecoveryRecord</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="create()"><!-- --></A><H3>
create</H3>
<PRE>
public static <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A> <B>create</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="shadowForced()"><!-- --></A><H3>
shadowForced</H3>
<PRE>
protected boolean <B>shadowForced</B>()</PRE>
<DL>
<DD>Cadaver records force write shadows.
 This operation supresses to abbreviated commit
 This should never return false</DL>
<HR>

<A NAME="value()"><!-- --></A><H3>
value</H3>
<PRE>
public java.lang.Object <B>value</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#value()">value</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>Object</code> to be used to order.</DL>
</DD>
</DL>
<HR>

<A NAME="setValue(java.lang.Object)"><!-- --></A><H3>
setValue</H3>
<PRE>
public void <B>setValue</B>(java.lang.Object&nbsp;newState)</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#setValue(java.lang.Object)">setValue</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="nestedAbort()"><!-- --></A><H3>
nestedAbort</H3>
<PRE>
public int <B>nestedAbort</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>A rollback of a nested transaction has occurred.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#nestedAbort()">nestedAbort</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> to indicate success/failure.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><CODE>PrepareOutcome</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="nestedCommit()"><!-- --></A><H3>
nestedCommit</H3>
<PRE>
public int <B>nestedCommit</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>A commit of a nested transaction has occurred.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#nestedCommit()">nestedCommit</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> to indicate success/failure.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><CODE>PrepareOutcome</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="nestedPrepare()"><!-- --></A><H3>
nestedPrepare</H3>
<PRE>
public int <B>nestedPrepare</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>A prepare for a nested transaction has occurred.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#nestedPrepare()">nestedPrepare</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.AbstractRecord</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>PrepareOutcome</code> to indicate success/failure.<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><CODE>PrepareOutcome</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="merge(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
merge</H3>
<PRE>
public void <B>merge</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Merge the current record with the one presented.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#merge(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">merge</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="alter(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
alter</H3>
<PRE>
public void <B>alter</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Alter the current record with the one presented.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#alter(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">alter</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="shouldAdd(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
shouldAdd</H3>
<PRE>
public boolean <B>shouldAdd</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Should we add the record presented to the intentions list?<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#shouldAdd(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldAdd</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="shouldAlter(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
shouldAlter</H3>
<PRE>
public boolean <B>shouldAlter</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Should we alter the current record with the one presented?<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#shouldAlter(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldAlter</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="shouldMerge(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
shouldMerge</H3>
<PRE>
public boolean <B>shouldMerge</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Should we merge the current record with the one presented?<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#shouldMerge(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldMerge</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="shouldReplace(com.arjuna.ArjunaCore.Atomic.AbstractRecord)"><!-- --></A><H3>
shouldReplace</H3>
<PRE>
public boolean <B>shouldReplace</B>(<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A>&nbsp;a)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></B></DD>
<DD>Should we replace the record presented with the current record?<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html#shouldReplace(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">shouldReplace</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/AbstractRecord.html">AbstractRecord</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="forgetAction(boolean)"><!-- --></A><H3>
forgetAction</H3>
<PRE>
protected final void <B>forgetAction</B>(boolean&nbsp;commit)</PRE>
<DL>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/ObjectType.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/PrepareOutcome.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PersistenceRecord.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
