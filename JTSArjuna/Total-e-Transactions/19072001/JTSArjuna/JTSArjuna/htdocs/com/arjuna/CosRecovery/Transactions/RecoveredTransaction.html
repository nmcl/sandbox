<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Sep 20 13:52:05 GMT+01:00 2001 -->
<TITLE>
HP Bluestone Arjuna Transaction Service for Java Version 2_2_0: Class  RecoveredTransaction
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredServerTransaction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransactionReplayer.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RecoveredTransaction.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.CosRecovery.Transactions</FONT>
<BR>
Class  RecoveredTransaction</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">com.arjuna.ArjunaCore.Atomic.StateManager</A>
        |
        +--<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">com.arjuna.ArjunaCore.Atomic.BasicAction</A>
              |
              +--<A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">com.arjuna.CosTransactions.OTS_Transaction</A>
                    |
                    +--<B>com.arjuna.CosRecovery.Transactions.RecoveredTransaction</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>com.arjuna.ArjunaOTS.ArjunaTransactionOperations, <A HREF="../../../../org/omg/CosTransactions/CoordinatorOperations.html">CoordinatorOperations</A>, com.arjuna.CosRecovery.Transactions.RecoveringTransaction, <A HREF="../../../../org/omg/CosTransactions/TerminatorOperations.html">TerminatorOperations</A>, com.arjuna.ArjunaOTS.UidCoordinatorOperations</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/arjuna/CosRecovery/Transactions/AssumedCompleteTransaction.html">AssumedCompleteTransaction</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>RecoveredTransaction</B><DT>extends <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A><DT>implements com.arjuna.CosRecovery.Transactions.RecoveringTransaction</DL>

<P>
Transaction type only instantiated at recovery time.  This is used
 to re-activate the state of a root (non-interposed) transaction
 that did not terminate correctly due to failure.
 <P>
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#_originalProcessUid">_originalProcessUid</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.arjuna.CosTransactions.OTS_Transaction"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.CosTransactions.<A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#controlHandle">controlHandle</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#parentTransaction">parentTransaction</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.BasicAction"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#allActions">allActions</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#failedList">failedList</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#heuristicList">heuristicList</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#pendingList">pendingList</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#preparedList">preparedList</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#readonlyList">readonlyList</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modifyingActions">modifyingActions</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#objectName">objectName</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#smAttributes">smAttributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#usingActions">usingActions</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#RecoveredTransaction(com.arjuna.ArjunaCommon.Common.Uid)">RecoveredTransaction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#RecoveredTransaction(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)">RecoveredTransaction</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                     java.lang.String&nbsp;changedTypeName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#addResourceRecord(com.arjuna.ArjunaCommon.Common.Uid, org.omg.CosTransactions.Resource)">addResourceRecord</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;rcUid,
                  <A HREF="../../../../org/omg/CosTransactions/Resource.html">Resource</A>&nbsp;r)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows a new Resource to be added to the transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#allCompleted()">allCompleted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#assumeComplete()">assumeComplete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tell transaction it is assumed to be complete and should convert itself
 to the appropriate assumed complete type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BasicAction destructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#get_status()">get_status</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the status of the transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#getLastActiveTime()">getLastActiveTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do not admit to being inactive</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#getOriginalStatus()">getOriginalStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#getRecoveryStatus()">getRecoveryStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the status of recovery for this transaction</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#packHeader(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">packHeader</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
           <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;txId,
           <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;processUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override StateManager packHeader so it gets the original processUid, not
 this process's</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#removeOldStoreEntry()">removeOldStoreEntry</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#replayPhase2()">replayPhase2</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Causes phase 2 of the commit protocol to be replayed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;objectState,
           int&nbsp;ot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redefined version of save_state and restore_state from StateManager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#type()">type</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overloads StateManager.type()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html#unpackHeader(com.arjuna.ArjunaCommon.Common.InputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">unpackHeader</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
             <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;txId,
             <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;processUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override StateManager's unpackHeader to save the processUid of the
 original process</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.CosTransactions.OTS_Transaction"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.CosTransactions.<A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#afterCompletion(org.omg.CosTransactions.Status)">afterCompletion</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#beforeCompletion()">beforeCompletion</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#commit(boolean)">commit</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#create_subtransaction()">create_subtransaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#createOTSRecord(boolean, org.omg.CosTransactions.Resource, org.omg.CosTransactions.Coordinator)">createOTSRecord</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#createOTSRecord(boolean, org.omg.CosTransactions.Resource, org.omg.CosTransactions.Coordinator, com.arjuna.ArjunaCommon.Common.Uid)">createOTSRecord</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#destroyAction()">destroyAction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#equals(java.lang.Object)">equals</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#forgetHeuristics()">forgetHeuristics</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#get_parent_status()">get_parent_status</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#get_top_level_status()">get_top_level_status</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#get_transaction_name()">get_transaction_name</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#get_txcontext()">get_txcontext</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#getControlHandle()">getControlHandle</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#hash_top_level_tran()">hash_top_level_tran</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#hash_transaction()">hash_transaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#interpositionType()">interpositionType</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#is_ancestor_transaction(org.omg.CosTransactions.Coordinator)">is_ancestor_transaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#is_descendant_transaction(org.omg.CosTransactions.Coordinator)">is_descendant_transaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#is_related_transaction(org.omg.CosTransactions.Coordinator)">is_related_transaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#is_same_transaction(org.omg.CosTransactions.Coordinator)">is_same_transaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#is_top_level_transaction()">is_top_level_transaction</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#register_resource(org.omg.CosTransactions.Resource)">register_resource</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#register_subtran_aware(org.omg.CosTransactions.SubtransactionAwareResource)">register_subtran_aware</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#register_synchronization(org.omg.CosTransactions.Synchronization)">register_synchronization</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#rollback_only()">rollback_only</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#rollback()">rollback</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#setControlHandle(com.arjuna.CosTransactions.OTS_Control)">setControlHandle</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#topLevelUid()">topLevelUid</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#toString()">toString</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#typeName()">typeName</A>, <A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#uid()">uid</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ArjunaCore.Atomic.BasicAction"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#Abort()">Abort</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#activate()">activate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#activate(java.lang.String)">activate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#activeThreads()">activeThreads</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#add(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">add</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addChildAction(com.arjuna.ArjunaCore.Atomic.BasicAction)">addChildAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addChildThread()">addChildThread</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addChildThread(java.lang.Thread)">addChildThread</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#addRecord(com.arjuna.ArjunaCore.Atomic.AbstractRecord)">addRecord</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#Begin(com.arjuna.ArjunaCore.Atomic.BasicAction)">Begin</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#childTransactions()">childTransactions</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#criticalEnd()">criticalEnd</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#criticalStart()">criticalStart</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#Current()">Current</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#destroy()">destroy</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#End(boolean)">End</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#getHeuristicDecision()">getHeuristicDecision</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#getHierarchy()">getHierarchy</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#getSavingUid()">getSavingUid</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#hierarchyDepth()">hierarchyDepth</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#isAncestor(com.arjuna.ArjunaCommon.Common.Uid)">isAncestor</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#maintainHeuristics()">maintainHeuristics</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#onePhaseCommit(boolean)">onePhaseCommit</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#parent()">parent</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#phase2Abort(boolean)">phase2Abort</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#phase2Cleanup()">phase2Cleanup</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#phase2Commit(boolean)">phase2Commit</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#prepare(boolean)">prepare</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#preparedStatus()">preparedStatus</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#preventCommit()">preventCommit</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#removeChildAction(com.arjuna.ArjunaCore.Atomic.BasicAction)">removeChildAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#removeChildThread()">removeChildThread</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#removeChildThread(java.lang.String)">removeChildThread</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#restore_state(com.arjuna.ArjunaCommon.Common.InputObjectState, int)">restore_state</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#setCheckedAction(com.arjuna.ArjunaCore.Atomic.CheckedAction)">setCheckedAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#status()">status</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#store()">store</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#topLevelAction()">topLevelAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#topLevelActionUid()">topLevelActionUid</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.arjuna.ArjunaCore.Atomic.StateManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.arjuna.ArjunaCore.Atomic.<A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#attributes()">attributes</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#cleanup(boolean)">cleanup</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate()">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#deactivate(java.lang.String, boolean)">deactivate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#disable()">disable</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#forgetAction(com.arjuna.ArjunaCore.Atomic.BasicAction, boolean, int)">forgetAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#get_uid()">get_uid</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getMutex()">getMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#getStoreRoot()">getStoreRoot</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#loadObjectState()">loadObjectState</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#lockMutex()">lockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#modified()">modified</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#ObjectType()">ObjectType</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#persist()">persist</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#print(java.io.PrintWriter)">print</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#rememberAction(com.arjuna.ArjunaCore.Atomic.BasicAction, int)">rememberAction</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore()">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#setupStore(java.lang.String)">setupStore</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#terminate()">terminate</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#tryLockMutex()">tryLockMutex</A>, <A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unlockMutex()">unlockMutex</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="_originalProcessUid"><!-- --></A><H3>
_originalProcessUid</H3>
<PRE>
protected <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A> <B>_originalProcessUid</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="RecoveredTransaction(com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
RecoveredTransaction</H3>
<PRE>
public <B>RecoveredTransaction</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid)</PRE>
<DL>
</DL>
<HR>

<A NAME="RecoveredTransaction(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)"><!-- --></A><H3>
RecoveredTransaction</H3>
<PRE>
public <B>RecoveredTransaction</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                            java.lang.String&nbsp;changedTypeName)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></B></DD>
<DD>BasicAction destructor. Under normal circumstances we do very little.
 However there exists the possibility that this action is being deleted
 while still running (user forgot to commit/abort) - in which case we
 do an abort for him and mark all our parents as unable to commit.
 Additionally due to scoping we may not be the current action - but
 in that case the current action must be one of our nested actions
 so by applying abort to it we should end up at ourselves!<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#finalize()">finalize</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="get_status()"><!-- --></A><H3>
get_status</H3>
<PRE>
public <A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A> <B>get_status</B>()
                  throws org.omg.CORBA.SystemException</PRE>
<DL>
<DD>Get the status of the transaction. If we successfully activated
 the transaction then we return whatever the transaction reports
 otherwise we return RolledBack as we're using presumed abort.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>get_status</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#get_status()">get_status</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getOriginalStatus()"><!-- --></A><H3>
getOriginalStatus</H3>
<PRE>
public <A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A> <B>getOriginalStatus</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by: </B><DD><CODE>getOriginalStatus</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addResourceRecord(com.arjuna.ArjunaCommon.Common.Uid, org.omg.CosTransactions.Resource)"><!-- --></A><H3>
addResourceRecord</H3>
<PRE>
public void <B>addResourceRecord</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;rcUid,
                              <A HREF="../../../../org/omg/CosTransactions/Resource.html">Resource</A>&nbsp;r)</PRE>
<DL>
<DD>Allows a new Resource to be added to the transaction. Typically
 this is used to replace a Resource that has failed and cannot
 be recovered on it's original IOR.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>addResourceRecord</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="replayPhase2()"><!-- --></A><H3>
replayPhase2</H3>
<PRE>
public void <B>replayPhase2</B>()</PRE>
<DL>
<DD>Causes phase 2 of the commit protocol to be replayed.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>replayPhase2</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getRecoveryStatus()"><!-- --></A><H3>
getRecoveryStatus</H3>
<PRE>
public int <B>getRecoveryStatus</B>()</PRE>
<DL>
<DD>Get the status of recovery for this transaction<DD><DL>
<DT><B>Specified by: </B><DD><CODE>getRecoveryStatus</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="allCompleted()"><!-- --></A><H3>
allCompleted</H3>
<PRE>
public boolean <B>allCompleted</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by: </B><DD><CODE>allCompleted</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="type()"><!-- --></A><H3>
type</H3>
<PRE>
public java.lang.String <B>type</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></B></DD>
<DD>Overloads StateManager.type()<DD><DL>
<DT><B>Specified by: </B><DD><CODE>type</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html#type()">type</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/CosTransactions/OTS_Transaction.html">OTS_Transaction</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeOldStoreEntry()"><!-- --></A><H3>
removeOldStoreEntry</H3>
<PRE>
public void <B>removeOldStoreEntry</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by: </B><DD><CODE>removeOldStoreEntry</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="assumeComplete()"><!-- --></A><H3>
assumeComplete</H3>
<PRE>
public boolean <B>assumeComplete</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></B></DD>
<DD>Tell transaction it is assumed to be complete and should convert itself
 to the appropriate assumed complete type.<DD><DL>
<DT><B>Specified by: </B><DD><CODE>assumeComplete</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="packHeader(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
packHeader</H3>
<PRE>
protected void <B>packHeader</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;os,
                          <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;txId,
                          <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;processUid)
                   throws java.io.IOException</PRE>
<DL>
<DD>Override StateManager packHeader so it gets the original processUid, not
 this process's<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#packHeader(com.arjuna.ArjunaCommon.Common.OutputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">packHeader</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="unpackHeader(com.arjuna.ArjunaCommon.Common.InputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
unpackHeader</H3>
<PRE>
protected void <B>unpackHeader</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/InputObjectState.html">InputObjectState</A>&nbsp;os,
                            <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;txId,
                            <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;processUid)
                     throws java.io.IOException</PRE>
<DL>
<DD>Override StateManager's unpackHeader to save the processUid of the
 original process<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html#unpackHeader(com.arjuna.ArjunaCommon.Common.InputObjectState, com.arjuna.ArjunaCommon.Common.Uid, com.arjuna.ArjunaCommon.Common.Uid)">unpackHeader</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/StateManager.html">StateManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Since: </B><DD>JTS 2.1.</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)"><!-- --></A><H3>
save_state</H3>
<PRE>
public boolean <B>save_state</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/OutputObjectState.html">OutputObjectState</A>&nbsp;objectState,
                          int&nbsp;ot)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></B></DD>
<DD>Redefined version of save_state and restore_state from StateManager.

 Normal operation (no crashes):

 BasicAction.save_state is called after a successful prepare. This
 causes and BasicAction object to be saved in the object store. This
 object contains primarily the "intentions list" of the BasicAction.
 After successfully completing phase 2 of the commit protocol, the
 BasicAction object is deleted from the store.

 Failure cases:

 If a server crashes after successfully preparing, then upon recovery the
 action must be resolved (either committed or aborted) depending upon 
 whether the co-ordinating atomic action committed or aborted.
 Upon server recovery, the crash recovery mechanism detects
 ServerBasicAction objects in the object store and attempts to activate
 the BasicAction object of the co-ordinating action. If this is
 successful then the SAA is committed else aborted.

 If, when processing phase 2 of the commit protocol, the co-ordinator
 experiences a failure to commit from one of the records then the
 BasicAction object is NOT deleted. It is rewritten when a new state
 which contains a list of the records that failed during phase 2 commit.
 This list is called the "failedList".

 The crash recovery manager will detect local BasicAction objects in
 addition to SAA objects in the objectstore. An attempt will be made
 to commit these actions. If the action contained a call to a now dead
 server, this action can never be resolved and the AA object can never
 be removed. However, if the action is purely local then after the 
 processing is complete the removed by crash recovery.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html#save_state(com.arjuna.ArjunaCommon.Common.OutputObjectState, int)">save_state</A></CODE> in class <CODE><A HREF="../../../../com/arjuna/ArjunaCore/Atomic/BasicAction.html">BasicAction</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>com.arjuna.ArjunaCore.Atomic.BasicAction</CODE></DD>
<DD><DL>
<DT><B>Returns:</B><DD><code>true</code> if successful, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getLastActiveTime()"><!-- --></A><H3>
getLastActiveTime</H3>
<PRE>
public java.util.Date <B>getLastActiveTime</B>()</PRE>
<DL>
<DD>do not admit to being inactive<DD><DL>
<DT><B>Specified by: </B><DD><CODE>getLastActiveTime</CODE> in interface <CODE>com.arjuna.CosRecovery.Transactions.RecoveringTransaction</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredServerTransaction.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransactionReplayer.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RecoveredTransaction.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
