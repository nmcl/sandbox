<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Sep 20 13:52:05 GMT+01:00 2001 -->
<TITLE>
HP Bluestone Arjuna Transaction Service for Java Version 2_2_0: Class  TransactionCache
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/TopLevelTransactionRecoveryModule.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionRecoveryModule.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionCache.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.arjuna.CosRecovery.Transactions</FONT>
<BR>
Class  TransactionCache</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.arjuna.CosRecovery.Transactions.TransactionCache</B>
</PRE>
<HR>
<DL>
<DT>public class <B>TransactionCache</B><DT>extends java.lang.Object</DL>

<P>
The transaction cache ensures that there is no interference between
 different threads that may be working with the same
 transaction. The cache automatically removes or refreshes
 transactions that require no further recovery or re-recovery respectively. Various
 volatile information for the transaction is also kept in the cache 
 (e.g. number of attempts to recover since first activated
 in this RecoveryManager run)
 <P>
<P>
<DL>
<DT><B>See Also: </B><DD><A HREF="../../../../com/arjuna/CosRecovery/Transactions/CachedRecoveredTransaction.html"><CODE>CachedRecoveredTransaction</CODE></A>, 
<A HREF="../../../../com/arjuna/CosRecovery/Transactions/RecoveredTransaction.html"><CODE>RecoveredTransaction</CODE></A></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#TransactionCache()">TransactionCache</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#addResourceRecord(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String, com.arjuna.ArjunaCommon.Common.Uid, org.omg.CosTransactions.Resource)">addResourceRecord</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                  java.lang.String&nbsp;theType,
                  <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;rcUid,
                  <A HREF="../../../../org/omg/CosTransactions/Resource.html">Resource</A>&nbsp;r)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new resource to a recovered transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#get_status(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)">get_status</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
           java.lang.String&nbsp;theType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the status of a transaction</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#getCachedStatus(com.arjuna.ArjunaCommon.Common.Uid)">getCachedStatus</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the status of a transaction that is already in the cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#getOriginalStatus(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)">getOriginalStatus</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                  java.lang.String&nbsp;theType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the status of a transaction as it is in the original process
 (so type is not needed)
 NoTransaction means the original process has gone</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#getRecoveryStatus(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)">getRecoveryStatus</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                  java.lang.String&nbsp;theType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionCache.html#replayPhase2(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)">replayPhase2</A></B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
             java.lang.String&nbsp;theType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replays phase 2 of a transaction.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="TransactionCache()"><!-- --></A><H3>
TransactionCache</H3>
<PRE>
public <B>TransactionCache</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>finalize</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="get_status(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)"><!-- --></A><H3>
get_status</H3>
<PRE>
public static <A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A> <B>get_status</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                                java.lang.String&nbsp;theType)
                         throws org.omg.CORBA.SystemException</PRE>
<DL>
<DD>Get the status of a transaction</DL>
<HR>

<A NAME="getCachedStatus(com.arjuna.ArjunaCommon.Common.Uid)"><!-- --></A><H3>
getCachedStatus</H3>
<PRE>
public static <A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A> <B>getCachedStatus</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid)
                              throws org.omg.CORBA.SystemException</PRE>
<DL>
<DD>Get the status of a transaction that is already in the cache</DL>
<HR>

<A NAME="getOriginalStatus(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)"><!-- --></A><H3>
getOriginalStatus</H3>
<PRE>
public static <A HREF="../../../../org/omg/CosTransactions/Status.html">Status</A> <B>getOriginalStatus</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                                       java.lang.String&nbsp;theType)
                                throws org.omg.CORBA.SystemException</PRE>
<DL>
<DD>Get the status of a transaction as it is in the original process
 (so type is not needed)
 NoTransaction means the original process has gone</DL>
<HR>

<A NAME="getRecoveryStatus(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)"><!-- --></A><H3>
getRecoveryStatus</H3>
<PRE>
public static int <B>getRecoveryStatus</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                                    java.lang.String&nbsp;theType)</PRE>
<DL>
</DL>
<HR>

<A NAME="addResourceRecord(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String, com.arjuna.ArjunaCommon.Common.Uid, org.omg.CosTransactions.Resource)"><!-- --></A><H3>
addResourceRecord</H3>
<PRE>
public static void <B>addResourceRecord</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                                     java.lang.String&nbsp;theType,
                                     <A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;rcUid,
                                     <A HREF="../../../../org/omg/CosTransactions/Resource.html">Resource</A>&nbsp;r)</PRE>
<DL>
<DD>Add a new resource to a recovered transaction. This is
 primarily to allow a new resource that has been provided
 through a replay_completion to be added to the transaction and
 thereby replacing the original resource that was passed in on
 register_resource.</DL>
<HR>

<A NAME="replayPhase2(com.arjuna.ArjunaCommon.Common.Uid, java.lang.String)"><!-- --></A><H3>
replayPhase2</H3>
<PRE>
public static void <B>replayPhase2</B>(<A HREF="../../../../com/arjuna/ArjunaCommon/Common/Uid.html">Uid</A>&nbsp;actionUid,
                                java.lang.String&nbsp;theType)</PRE>
<DL>
<DD>Replays phase 2 of a transaction.</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/TopLevelTransactionRecoveryModule.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/arjuna/CosRecovery/Transactions/TransactionRecoveryModule.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TransactionCache.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
